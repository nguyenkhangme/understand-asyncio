<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="14472px" preserveAspectRatio="none" style="width:2936px;height:14472px;background:#FFFFFF;" version="1.1" viewBox="0 0 2936 14472" width="2936px" zoomAndPan="magnify"><title>asyncio Task interleave &amp; overlapping</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="275.6113" x="1326.4829" y="28.5352">asyncio Task interleave &amp; overlapping</text><rect fill="#8ABFD3" fill-opacity="0.21176" height="14416.2852" style="stroke:#181818;stroke-width:0.5;" width="689.4468" x="727.769" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.7163" x="1057.1343" y="56.0566">req1</text><rect fill="#A1D6EA" fill-opacity="0.14902" height="14416.2852" style="stroke:#181818;stroke-width:0.5;" width="689.4468" x="1431.0508" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.7163" x="1760.416" y="56.0566">req2</text><rect fill="#B0E5F8" fill-opacity="0.09020" height="14416.2852" style="stroke:#181818;stroke-width:0.5;" width="693.873" x="2134.3325" y="43.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30.7163" x="2465.9109" y="56.0566">req3</text><g><title>Event Loop</title><rect fill="#FFFFFF" height="14319.998" style="stroke:#181818;stroke-width:1;" width="10" x="64.2319" y="120.7754"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="508.1426" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="185.3965"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="584.6953" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="2710.1777"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="676.5586" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="5319.3066"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="290.6582" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="8295.8887"/></g><g><title>Task-2.__step..</title><rect fill="#FFFFFF" height="581.0742" style="stroke:#181818;stroke-width:1;" width="10" x="814.7319" y="766.1602"/></g><g><title>Task-2.__step..</title><rect fill="#FFFFFF" height="362.2793" style="stroke:#181818;stroke-width:1;" width="10" x="814.7319" y="10315.9434"/></g><g><title>Task-3.__step..</title><rect fill="#FFFFFF" height="339.9688" style="stroke:#181818;stroke-width:1;" width="10" x="1148.6523" y="1419.8555"/></g><g><title>Task-3.__step..</title><rect fill="#FFFFFF" height="447.1426" style="stroke:#181818;stroke-width:1;" width="10" x="1148.6523" y="9017.0684"/></g><g><title>Task-4.__step..</title><rect fill="#FFFFFF" height="370.5898" style="stroke:#181818;stroke-width:1;" width="10" x="1328.5278" y="1789.1348"/></g><g><title>Task-4.__step..</title><rect fill="#FFFFFF" height="447.1426" style="stroke:#181818;stroke-width:1;" width="10" x="1328.5278" y="9493.5215"/></g><g><title>Task-5.__step..</title><rect fill="#FFFFFF" height="672.9375" style="stroke:#181818;stroke-width:1;" width="10" x="1518.0137" y="3324.1836"/></g><g><title>Task-5.__step..</title><rect fill="#FFFFFF" height="331.6582" style="stroke:#181818;stroke-width:1;" width="10" x="1518.0137" y="12408.6875"/></g><g><title>Task-6.__step..</title><rect fill="#FFFFFF" height="401.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1851.9341" y="4026.4316"/></g><g><title>Task-6.__step..</title><rect fill="#FFFFFF" height="385.9004" style="stroke:#181818;stroke-width:1;" width="10" x="1851.9341" y="11262.918"/></g><g><title>Task-7.__step..</title><rect fill="#FFFFFF" height="431.832" style="stroke:#181818;stroke-width:1;" width="10" x="2031.8096" y="4456.9531"/></g><g><title>Task-7.__step..</title><rect fill="#FFFFFF" height="385.9004" style="stroke:#181818;stroke-width:1;" width="10" x="2031.8096" y="11678.1289"/></g><g><title>Task-8.__step..</title><rect fill="#FFFFFF" height="764.8008" style="stroke:#181818;stroke-width:1;" width="10" x="2221.2954" y="6025.1758"/></g><g><title>Task-8.__step..</title><rect fill="#FFFFFF" height="270.416" style="stroke:#181818;stroke-width:1;" width="10" x="2221.2954" y="14011.4941"/></g><g><title>Task-9.__step..</title><rect fill="#FFFFFF" height="462.4531" style="stroke:#181818;stroke-width:1;" width="10" x="2555.2158" y="6819.2871"/></g><g><title>Task-9.__step..</title><rect fill="#FFFFFF" height="263.416" style="stroke:#181818;stroke-width:1;" width="10" x="2555.2158" y="13171.9355"/></g><g><title>Task-10.__step..</title><rect fill="#FFFFFF" height="493.0742" style="stroke:#181818;stroke-width:1;" width="10" x="2735.0913" y="7311.0508"/></g><g><title>Task-10.__step..</title><rect fill="#FFFFFF" height="263.416" style="stroke:#181818;stroke-width:1;" width="10" x="2735.0913" y="13464.6621"/></g><g><title>Event Loop</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="65.2319" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="69" x2="69" y1="110.7754" y2="14465.7734"/></g><g><title>Task-1.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="528.835" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="532.6528" x2="532.6528" y1="110.7754" y2="14465.7734"/></g><g><title>Task-2.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="815.7319" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="818.769" x2="818.769" y1="110.7754" y2="14465.7734"/></g><g><title>Task-3.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="1149.6523" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1152.9644" x2="1152.9644" y1="110.7754" y2="14465.7734"/></g><g><title>Task-4.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="1329.5278" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1332.8398" x2="1332.8398" y1="110.7754" y2="14465.7734"/></g><g><title>Task-5.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="1519.0137" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1522.0508" x2="1522.0508" y1="110.7754" y2="14465.7734"/></g><g><title>Task-6.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="1852.9341" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1856.2461" x2="1856.2461" y1="110.7754" y2="14465.7734"/></g><g><title>Task-7.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="2032.8096" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2036.1216" x2="2036.1216" y1="110.7754" y2="14465.7734"/></g><g><title>Task-8.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="2222.2954" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2225.3325" x2="2225.3325" y1="110.7754" y2="14465.7734"/></g><g><title>Task-9.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="2556.2158" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2559.5278" x2="2559.5278" y1="110.7754" y2="14465.7734"/></g><g><title>Task-10.__step..</title><rect fill="#000000" fill-opacity="0.00000" height="14354.998" width="8" x="2736.0913" y="110.7754"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2739.9771" x2="2739.9771" y1="110.7754" y2="14465.7734"/></g><g class="participant participant-head" data-participant="L"><rect fill="#64BEF6" fill-opacity="0.52941" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88.4639" x="25" y="79.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.4639" x="32" y="99.8223">Event Loop</text></g><g class="participant participant-head" data-participant="T1"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.3643" x="466.6528" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="480.147" y="83.334">Task-1.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.3643" x="473.6528" y="99.8223">accept_requests()</text></g><g class="participant participant-head" data-participant="T2"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.9258" x="751.769" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="767.0439" y="83.334">Task-2.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.9258" x="758.769" y="99.8223">handle_request(1)</text></g><g class="participant participant-head" data-participant="T3"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.376" x="1093.9644" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="1100.9644" y="83.334">Task-3.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.4424" x="1117.9312" y="99.8223">fake_db(1)</text></g><g class="participant participant-head" data-participant="T4"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.376" x="1273.8398" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="1280.8398" y="83.334">Task-4.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.792" x="1292.6318" y="99.8223">fake_http(1)</text></g><g class="participant participant-head" data-participant="T5"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.9258" x="1455.0508" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="1470.3257" y="83.334">Task-5.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.9258" x="1462.0508" y="99.8223">handle_request(2)</text></g><g class="participant participant-head" data-participant="T6"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.376" x="1797.2461" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="1804.2461" y="83.334">Task-6.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.4424" x="1821.2129" y="99.8223">fake_db(2)</text></g><g class="participant participant-head" data-participant="T7"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.376" x="1977.1216" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="1984.1216" y="83.334">Task-7.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.792" x="1995.9136" y="99.8223">fake_http(2)</text></g><g class="participant participant-head" data-participant="T8"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.9258" x="2158.3325" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="2173.6074" y="83.334">Task-8.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.9258" x="2165.3325" y="99.8223">handle_request(3)</text></g><g class="participant participant-head" data-participant="T9"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.376" x="2500.5278" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.376" x="2507.5278" y="83.334">Task-9.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.4424" x="2524.4946" y="99.8223">fake_db(3)</text></g><g class="participant participant-head" data-participant="T10"><rect fill="#64BEF6" fill-opacity="0.52941" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2285" x="2675.9771" y="62.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2285" x="2682.9771" y="83.334">Task-10.__step()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.792" x="2699.1953" y="99.8223">fake_http(3)</text></g><g><title>Event Loop</title><rect fill="#FFFFFF" height="14319.998" style="stroke:#181818;stroke-width:1;" width="10" x="64.2319" y="120.7754"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="508.1426" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="185.3965"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="584.6953" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="2710.1777"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="676.5586" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="5319.3066"/></g><g><title>Task-1.__step..</title><rect fill="#FFFFFF" height="290.6582" style="stroke:#181818;stroke-width:1;" width="10" x="527.835" y="8295.8887"/></g><g><title>Task-2.__step..</title><rect fill="#FFFFFF" height="581.0742" style="stroke:#181818;stroke-width:1;" width="10" x="814.7319" y="766.1602"/></g><g><title>Task-2.__step..</title><rect fill="#FFFFFF" height="362.2793" style="stroke:#181818;stroke-width:1;" width="10" x="814.7319" y="10315.9434"/></g><g><title>Task-3.__step..</title><rect fill="#FFFFFF" height="339.9688" style="stroke:#181818;stroke-width:1;" width="10" x="1148.6523" y="1419.8555"/></g><g><title>Task-3.__step..</title><rect fill="#FFFFFF" height="447.1426" style="stroke:#181818;stroke-width:1;" width="10" x="1148.6523" y="9017.0684"/></g><g><title>Task-4.__step..</title><rect fill="#FFFFFF" height="370.5898" style="stroke:#181818;stroke-width:1;" width="10" x="1328.5278" y="1789.1348"/></g><g><title>Task-4.__step..</title><rect fill="#FFFFFF" height="447.1426" style="stroke:#181818;stroke-width:1;" width="10" x="1328.5278" y="9493.5215"/></g><g><title>Task-5.__step..</title><rect fill="#FFFFFF" height="672.9375" style="stroke:#181818;stroke-width:1;" width="10" x="1518.0137" y="3324.1836"/></g><g><title>Task-5.__step..</title><rect fill="#FFFFFF" height="331.6582" style="stroke:#181818;stroke-width:1;" width="10" x="1518.0137" y="12408.6875"/></g><g><title>Task-6.__step..</title><rect fill="#FFFFFF" height="401.2109" style="stroke:#181818;stroke-width:1;" width="10" x="1851.9341" y="4026.4316"/></g><g><title>Task-6.__step..</title><rect fill="#FFFFFF" height="385.9004" style="stroke:#181818;stroke-width:1;" width="10" x="1851.9341" y="11262.918"/></g><g><title>Task-7.__step..</title><rect fill="#FFFFFF" height="431.832" style="stroke:#181818;stroke-width:1;" width="10" x="2031.8096" y="4456.9531"/></g><g><title>Task-7.__step..</title><rect fill="#FFFFFF" height="385.9004" style="stroke:#181818;stroke-width:1;" width="10" x="2031.8096" y="11678.1289"/></g><g><title>Task-8.__step..</title><rect fill="#FFFFFF" height="764.8008" style="stroke:#181818;stroke-width:1;" width="10" x="2221.2954" y="6025.1758"/></g><g><title>Task-8.__step..</title><rect fill="#FFFFFF" height="270.416" style="stroke:#181818;stroke-width:1;" width="10" x="2221.2954" y="14011.4941"/></g><g><title>Task-9.__step..</title><rect fill="#FFFFFF" height="462.4531" style="stroke:#181818;stroke-width:1;" width="10" x="2555.2158" y="6819.2871"/></g><g><title>Task-9.__step..</title><rect fill="#FFFFFF" height="263.416" style="stroke:#181818;stroke-width:1;" width="10" x="2555.2158" y="13171.9355"/></g><g><title>Task-10.__step..</title><rect fill="#FFFFFF" height="493.0742" style="stroke:#181818;stroke-width:1;" width="10" x="2735.0913" y="7311.0508"/></g><g><title>Task-10.__step..</title><rect fill="#FFFFFF" height="263.416" style="stroke:#181818;stroke-width:1;" width="10" x="2735.0913" y="13464.6621"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="141.4307"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="141.4307" y2="141.4307"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="144.4307" y2="144.4307"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="373.7915" x="1277.8928" y="130.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="355.5068" x="1283.8928" y="147.3438">Task-2 scheduled, then Task-1 yields on sleep(0.05)</text><g class="message" data-participant-1="L" data-participant-2="T1"><polygon fill="#181818" points="515.835,181.3965,525.835,185.3965,515.835,189.3965,519.835,185.3965" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="521.835" y1="185.3965" y2="185.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="253.8386" y="180.6543">call T1.__step()</text></g><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="245.3281" y2="245.3281"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="245.3281" y2="258.3281"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="258.3281" y2="258.3281"/><polygon fill="#181818" points="548.835,254.3281,538.835,258.3281,548.835,262.3281,544.835,258.3281" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9951" x="654.7859" y="209.9648">await</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.7446" x="590.4111" y="225.2754">spawn(handle_request(1))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.7837" x="548.9482" y="240.5859">-&gt; cretate_task(handle_request(1)) (T2)</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,283.6387,75.2319,287.6387,85.2319,291.6387,81.2319,287.6387" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="526.835" y1="287.6387" y2="287.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="236.592" y="282.8965">schedule T2.__step()</text></g><path d="M79,300.6387 L79,355.6387 L329,355.6387 L329,310.6387 L319,300.6387 L79,300.6387" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M319,300.6387 L319,310.6387 L329,310.6387 L319,300.6387" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.4131" x="85" y="318.207">When created,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.9629" x="85" y="333.5176">the task auto-schedules to call soon</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7295" x="85" y="348.8281">its __step()</text><path d="M79,366.5703 L79,421.5703 L383,421.5703 L383,376.5703 L373,366.5703 L79,366.5703" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M373,366.5703 L373,376.5703 L383,376.5703 L373,366.5703" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.6543" x="85" y="384.1387">loop's ready = deque([T2.__step()])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.2886" x="85" y="399.4492">(we will use Tx only after this for short)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283.5498" x="85" y="414.7598">scheduled = [loop.stop(loop)] (this is a heap)</text><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="479.4336" y2="479.4336"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="479.4336" y2="492.4336"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="492.4336" y2="492.4336"/><polygon fill="#181818" points="548.835,488.4336,538.835,492.4336,548.835,496.4336,544.835,492.4336" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.5708" x="575.5798" y="444.0703">await asyncio.sleep(0.05)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.2676" x="598.2314" y="459.3809">(which is a future)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.9473" x="548.9482" y="474.6914">add_done_callback() to that future</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,548.3652,75.2319,552.3652,85.2319,556.3652,81.2319,552.3652" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="526.835" y1="552.3652" y2="552.3652"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.6626" x="182.2021" y="517.002">schedule to call a callback after 0.05s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.8218" x="213.5659" y="532.3125">to mark that future is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.8169" x="188.1816" y="547.623">(implemented inside asyncio.sleep())</text></g><path d="M79,565.3652 L79,651.3652 L271,651.3652 L271,575.3652 L261,565.3652 L79,565.3652" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,565.3652 L261,575.3652 L271,575.3652 L261,565.3652" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="582.9336">ready = deque([T2])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="598.2441">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="613.5547">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="628.8652">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="644.1758">]</text><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,689.5391,75.2319,693.5391,85.2319,697.5391,81.2319,693.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="531.835" y1="693.5391" y2="693.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7153" x="175.6758" y="673.4863">T1.__step() end (hit await that suspends)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="247.1599" y="688.7969">back to event loop</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="722.1943"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="722.1943" y2="722.1943"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="725.1943" y2="725.1943"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="233.2163" x="1348.1804" y="711.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="214.9316" x="1354.1804" y="728.1074">Event loop picks Task-2 (ready)</text><g class="message" data-participant-1="L" data-participant-2="T2"><polygon fill="#181818" points="802.7319,762.1602,812.7319,766.1602,802.7319,770.1602,806.7319,766.1602" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="808.7319" y1="766.1602" y2="766.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="397.2871" y="761.418">call T2.__step()</text></g><path d="M79,779.1602 L79,865.1602 L271,865.1602 L271,789.1602 L261,779.1602 L79,779.1602" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,779.1602 L261,789.1602 L271,789.1602 L261,779.1602" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="796.7285">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="812.0391">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="827.3496">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="842.6602">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="857.9707">]</text><g class="message" data-participant-1="T2" data-participant-2="T2"><line style="stroke:#181818;stroke-width:1;" x1="824.7319" x2="866.7319" y1="907.334" y2="907.334"/><line style="stroke:#181818;stroke-width:1;" x1="866.7319" x2="866.7319" y1="907.334" y2="920.334"/><line style="stroke:#181818;stroke-width:1;" x1="825.7319" x2="866.7319" y1="920.334" y2="920.334"/><polygon fill="#181818" points="835.7319,916.334,825.7319,920.334,835.7319,924.334,831.7319,920.334" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="856.6973" y="887.2813">await spawn(fake_db(1))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.9063" x="831.7319" y="902.5918">-&gt; cretate_task(fake_db(1)) (T3)</text></g><g class="message" data-participant-1="T2" data-participant-2="L"><polygon fill="#181818" points="85.2319,945.6445,75.2319,949.6445,85.2319,953.6445,81.2319,949.6445" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="813.7319" y1="949.6445" y2="949.6445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="380.0405" y="944.9023">schedule T3.__step()</text></g><path d="M79,962.6445 L79,1048.6445 L271,1048.6445 L271,972.6445 L261,962.6445 L79,962.6445" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,962.6445 L261,972.6445 L271,972.6445 L261,962.6445" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="980.2129">ready = deque([T3])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="995.5234">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="1010.834">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="1026.1445">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="1041.4551">]</text><g class="message" data-participant-1="T2" data-participant-2="T2"><line style="stroke:#181818;stroke-width:1;" x1="824.7319" x2="866.7319" y1="1090.8184" y2="1090.8184"/><line style="stroke:#181818;stroke-width:1;" x1="866.7319" x2="866.7319" y1="1090.8184" y2="1103.8184"/><line style="stroke:#181818;stroke-width:1;" x1="825.7319" x2="866.7319" y1="1103.8184" y2="1103.8184"/><polygon fill="#181818" points="835.7319,1099.8184,825.7319,1103.8184,835.7319,1107.8184,831.7319,1103.8184" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.5859" x="856.6973" y="1070.7656">await spawn(fake_http(1))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.5166" x="831.7319" y="1086.0762">-&gt; cretate_task(fake_http(1)) (T4)</text></g><g class="message" data-participant-1="T2" data-participant-2="L"><polygon fill="#181818" points="85.2319,1129.1289,75.2319,1133.1289,85.2319,1137.1289,81.2319,1133.1289" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="813.7319" y1="1133.1289" y2="1133.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="380.0405" y="1128.3867">schedule T4.__step()</text></g><path d="M79,1146.1289 L79,1232.1289 L271,1232.1289 L271,1156.1289 L261,1146.1289 L79,1146.1289" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,1146.1289 L261,1156.1289 L271,1156.1289 L261,1146.1289" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2109" x="85" y="1163.6973">ready = deque([T3, T4])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="1179.0078">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="1194.3184">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="1209.6289">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="1224.9395">]</text><g class="message" data-participant-1="T2" data-participant-2="T2"><line style="stroke:#181818;stroke-width:1;" x1="824.7319" x2="866.7319" y1="1289.6133" y2="1289.6133"/><line style="stroke:#181818;stroke-width:1;" x1="866.7319" x2="866.7319" y1="1289.6133" y2="1302.6133"/><line style="stroke:#181818;stroke-width:1;" x1="825.7319" x2="866.7319" y1="1302.6133" y2="1302.6133"/><polygon fill="#181818" points="835.7319,1298.6133,825.7319,1302.6133,835.7319,1306.6133,831.7319,1302.6133" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.4482" x="900.5024" y="1254.25">await gather(T3, T4)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.9492" x="842.8086" y="1269.5605">(a future aggregating results of T3, T4)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.876" x="835.8452" y="1284.8711">T2 will be wake up when this future done</text></g><g class="message" data-participant-1="T2" data-participant-2="L"><polygon fill="#181818" points="85.2319,1343.2344,75.2319,1347.2344,85.2319,1351.2344,81.2319,1347.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="818.7319" y1="1347.2344" y2="1347.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7153" x="319.1243" y="1327.1816">T2.__step() end (hit await that suspends)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="390.6084" y="1342.4922">back to event loop</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="1375.8896"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="1375.8896" y2="1375.8896"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="1378.8896" y2="1378.8896"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="493.9844" x="1217.7964" y="1365.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="475.6997" x="1223.7964" y="1381.8027">Event loop runs Task-3 then Task-4 (ready); both suspend on sleep(3)</text><g class="message" data-participant-1="L" data-participant-2="T3"><polygon fill="#181818" points="1136.6523,1415.8555,1146.6523,1419.8555,1136.6523,1423.8555,1140.6523,1419.8555" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1142.6523" y1="1419.8555" y2="1419.8555"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="564.2473" y="1415.1133">call T3.__step()</text></g><path d="M79,1432.8555 L79,1518.8555 L271,1518.8555 L271,1442.8555 L261,1432.8555 L79,1432.8555" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,1432.8555 L261,1442.8555 L271,1442.8555 L261,1432.8555" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="1450.4238">ready = deque([T4])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="1465.7344">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="1481.0449">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="1496.3555">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="1511.666">]</text><g class="message" data-participant-1="T3" data-participant-2="T3"><line style="stroke:#181818;stroke-width:1;" x1="1158.6523" x2="1200.6523" y1="1545.7188" y2="1545.7188"/><line style="stroke:#181818;stroke-width:1;" x1="1200.6523" x2="1200.6523" y1="1545.7188" y2="1558.7188"/><line style="stroke:#181818;stroke-width:1;" x1="1159.6523" x2="1200.6523" y1="1558.7188" y2="1558.7188"/><polygon fill="#181818" points="1169.6523,1554.7188,1159.6523,1558.7188,1169.6523,1562.7188,1165.6523,1558.7188" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="1165.6523" y="1540.9766">await asyncio.sleep(3)</text></g><g class="message" data-participant-1="T3" data-participant-2="L"><polygon fill="#181818" points="85.2319,1599.3398,75.2319,1603.3398,85.2319,1607.3398,81.2319,1603.3398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1147.6523" y1="1603.3398" y2="1603.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.1089" x="502.8877" y="1583.2871">schedule to call a callback after 3s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="509.8479" y="1598.5977">to mark the sleep future is done</text></g><path d="M79,1616.3398 L79,1717.3398 L275,1717.3398 L275,1626.3398 L265,1616.3398 L79,1616.3398" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M265,1616.3398 L265,1626.3398 L275,1626.3398 L265,1616.3398" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="1633.9082">ready = deque([T4])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="1649.2188">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="1664.5293">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="1679.8398">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="1695.1504">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="1710.4609">]</text><g class="message" data-participant-1="T3" data-participant-2="L"><polygon fill="#181818" points="85.2319,1755.8242,75.2319,1759.8242,85.2319,1763.8242,81.2319,1759.8242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1152.6523" y1="1759.8242" y2="1759.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="563.6211" y="1739.7715">T3.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="557.5686" y="1755.082">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T4"><polygon fill="#181818" points="1316.5278,1785.1348,1326.5278,1789.1348,1316.5278,1793.1348,1320.5278,1789.1348" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1322.5278" y1="1789.1348" y2="1789.1348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="654.1851" y="1784.3926">call T4.__step()</text></g><path d="M79,1802.1348 L79,1903.1348 L275,1903.1348 L275,1812.1348 L265,1802.1348 L79,1802.1348" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M265,1802.1348 L265,1812.1348 L275,1812.1348 L265,1802.1348" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="1819.7031">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="1835.0137">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="1850.3242">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="1865.6348">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="1880.9453">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="1896.2559">]</text><g class="message" data-participant-1="T4" data-participant-2="T4"><line style="stroke:#181818;stroke-width:1;" x1="1338.5278" x2="1380.5278" y1="1930.3086" y2="1930.3086"/><line style="stroke:#181818;stroke-width:1;" x1="1380.5278" x2="1380.5278" y1="1930.3086" y2="1943.3086"/><line style="stroke:#181818;stroke-width:1;" x1="1339.5278" x2="1380.5278" y1="1943.3086" y2="1943.3086"/><polygon fill="#181818" points="1349.5278,1939.3086,1339.5278,1943.3086,1349.5278,1947.3086,1345.5278,1943.3086" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="1345.5278" y="1925.5664">await asyncio.sleep(3)</text></g><g class="message" data-participant-1="T4" data-participant-2="L"><polygon fill="#181818" points="85.2319,1983.9297,75.2319,1987.9297,85.2319,1991.9297,81.2319,1987.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1327.5278" y1="1987.9297" y2="1987.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.1089" x="592.8254" y="1967.877">schedule to call a callback after 3s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="599.7856" y="1983.1875">to mark the sleep future is done</text></g><path d="M79,2000.9297 L79,2117.9297 L275,2117.9297 L275,2010.9297 L265,2000.9297 L79,2000.9297" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M265,2000.9297 L265,2010.9297 L275,2010.9297 L265,2000.9297" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="2018.498">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="2033.8086">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="2049.1191">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2064.4297">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2079.7402">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="2095.0508">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="2110.3613">]</text><g class="message" data-participant-1="T4" data-participant-2="L"><polygon fill="#181818" points="85.2319,2155.7246,75.2319,2159.7246,85.2319,2163.7246,81.2319,2159.7246" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1332.5278" y1="2159.7246" y2="2159.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="653.5588" y="2139.6719">T4.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="647.5063" y="2154.9824">back to event loop</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="2188.3799"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="2188.3799" y2="2188.3799"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="2191.3799" y2="2191.3799"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="508.0571" x="1210.76" y="2177.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="489.7725" x="1216.76" y="2194.293">+0.052s timer fires: Task-1 becomes READY again then schedule for rq2</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="2262.9668" y2="2262.9668"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="2262.9668" y2="2275.9668"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="2275.9668" y2="2275.9668"/><polygon fill="#181818" points="85.2319,2271.9668,75.2319,2275.9668,85.2319,2279.9668,81.2319,2275.9668" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.0693" x="81.2319" y="2227.6035">no ready callback, block until sleep_0_05_callback_T1 ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3931" x="141.6267" y="2242.9141">unless some event ready during that time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3101" x="177.6116" y="2258.2246">using selector.select(timeout)</text></g><path d="M79,2288.9668 L79,2343.9668 L244,2343.9668 L244,2298.9668 L234,2288.9668 L79,2288.9668" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M234,2288.9668 L234,2298.9668 L244,2298.9668 L234,2288.9668" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.4282" x="85" y="2306.5352">We see it is not exactly</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.3608" x="85" y="2321.8457">0.05s but 0.052s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5146" x="85" y="2337.1563">due to overhead</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="2371.209" y2="2371.209"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="2371.209" y2="2384.209"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="2384.209" y2="2384.209"/><polygon fill="#181818" points="85.2319,2380.209,75.2319,2384.209,85.2319,2388.209,81.2319,2384.209" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.6348" x="81.2319" y="2366.4668">now sleep_0_05_callback_T1 is ready</text></g><path d="M79,2397.209 L79,2498.209 L360,2498.209 L360,2407.209 L350,2397.209 L79,2397.209" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M350,2397.209 L350,2407.209 L360,2407.209 L350,2397.209" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.2285" x="85" y="2414.7773">ready = deque([sleep_0_05_callback_T1])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="2430.0879">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2445.3984">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2460.709">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="2476.0195">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="2491.3301">]</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="2556.0039" y2="2556.0039"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="2556.0039" y2="2569.0039"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="2569.0039" y2="2569.0039"/><polygon fill="#181818" points="85.2319,2565.0039,75.2319,2569.0039,85.2319,2573.0039,81.2319,2569.0039" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="326.9678" x="81.2319" y="2520.6406">sleep_0_05_callback_T1 mark the sleep future done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306.9409" x="93.302" y="2535.9512">that sleep future then schedule its done callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3589" x="171.1497" y="2551.2617">that T1.__step() add to it</text></g><path d="M79,2582.0039 L79,2683.0039 L286,2683.0039 L286,2592.0039 L276,2582.0039 L79,2582.0039" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,2582.0039 L276,2592.0039 L286,2592.0039 L276,2582.0039" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="2599.5723">ready = deque([T1_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="2614.8828">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2630.1934">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2645.5039">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="2660.8145">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="2676.125">]</text><g class="message" data-participant-1="L" data-participant-2="T1"><polygon fill="#181818" points="515.835,2706.1777,525.835,2710.1777,515.835,2714.1777,519.835,2710.1777" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="521.835" y1="2710.1777" y2="2710.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="253.8386" y="2705.4355">call T1.__step()</text></g><path d="M79,2723.1777 L79,2824.1777 L248,2824.1777 L248,2733.1777 L238,2723.1777 L79,2723.1777" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M238,2723.1777 L238,2733.1777 L248,2733.1777 L238,2723.1777" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="2740.7461">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="2756.0566">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2771.3672">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2786.6777">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="2801.9883">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="2817.2988">]</text><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="2881.9727" y2="2881.9727"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="2881.9727" y2="2894.9727"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="2894.9727" y2="2894.9727"/><polygon fill="#181818" points="548.835,2890.9727,538.835,2894.9727,548.835,2898.9727,544.835,2894.9727" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9951" x="654.7859" y="2846.6094">await</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.7446" x="590.4111" y="2861.9199">spawn(handle_request(2))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.7837" x="548.9482" y="2877.2305">-&gt; cretate_task(handle_request(2)) (T5)</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,2920.2832,75.2319,2924.2832,85.2319,2928.2832,81.2319,2924.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="526.835" y1="2924.2832" y2="2924.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="236.592" y="2919.541">schedule T5.__step()</text></g><path d="M79,2937.2832 L79,3038.2832 L248,3038.2832 L248,2947.2832 L238,2937.2832 L79,2937.2832" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M238,2937.2832 L238,2947.2832 L248,2947.2832 L238,2937.2832" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="2954.8516">ready = deque([T5])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="2970.1621">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="2985.4727">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3000.7832">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="3016.0938">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="3031.4043">]</text><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="3065.457" y2="3065.457"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="3065.457" y2="3078.457"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="3078.457" y2="3078.457"/><polygon fill="#181818" points="548.835,3074.457,538.835,3078.457,548.835,3082.457,544.835,3078.457" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.5708" x="544.835" y="3060.7148">await asyncio.sleep(0.05)</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,3119.0781,75.2319,3123.0781,85.2319,3127.0781,81.2319,3123.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="526.835" y1="3123.0781" y2="3123.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.6626" x="182.2021" y="3103.0254">schedule to call a callback after 0.05s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="199.4392" y="3118.3359">to mark the sleep future is done</text></g><path d="M79,3136.0781 L79,3253.0781 L271,3253.0781 L271,3146.0781 L261,3136.0781 L79,3136.0781" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,3136.0781 L261,3146.0781 L271,3146.0781 L261,3136.0781" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="3153.6465">ready = deque([T5])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="3168.957">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="3184.2676">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3199.5781">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3214.8887">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="3230.1992">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="3245.5098">]</text><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,3290.873,75.2319,3294.873,85.2319,3298.873,81.2319,3294.873" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="531.835" y1="3294.873" y2="3294.873"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7153" x="175.6758" y="3274.8203">T1.__step() end (hit await that suspends)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="247.1599" y="3290.1309">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T5"><polygon fill="#181818" points="1506.0137,3320.1836,1516.0137,3324.1836,1506.0137,3328.1836,1510.0137,3324.1836" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1512.0137" y1="3324.1836" y2="3324.1836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="748.928" y="3319.4414">call T5.__step()</text></g><path d="M79,3337.1836 L79,3454.1836 L271,3454.1836 L271,3347.1836 L261,3337.1836 L79,3337.1836" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,3337.1836 L261,3347.1836 L271,3347.1836 L261,3337.1836" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="3354.752">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="3370.0625">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="3385.373">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3400.6836">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3415.9941">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="3431.3047">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="3446.6152">]</text><g class="message" data-participant-1="T5" data-participant-2="T5"><line style="stroke:#181818;stroke-width:1;" x1="1528.0137" x2="1570.0137" y1="3495.9785" y2="3495.9785"/><line style="stroke:#181818;stroke-width:1;" x1="1570.0137" x2="1570.0137" y1="3495.9785" y2="3508.9785"/><line style="stroke:#181818;stroke-width:1;" x1="1529.0137" x2="1570.0137" y1="3508.9785" y2="3508.9785"/><polygon fill="#181818" points="1539.0137,3504.9785,1529.0137,3508.9785,1539.0137,3512.9785,1535.0137,3508.9785" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="1559.979" y="3475.9258">await spawn(fake_db(2))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.9063" x="1535.0137" y="3491.2363">-&gt; cretate_task(fake_db(2)) (T6)</text></g><g class="message" data-participant-1="T5" data-participant-2="L"><polygon fill="#181818" points="85.2319,3534.2891,75.2319,3538.2891,85.2319,3542.2891,81.2319,3538.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1517.0137" y1="3538.2891" y2="3538.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="731.6814" y="3533.5469">schedule T6.__step()</text></g><path d="M79,3551.2891 L79,3668.2891 L271,3668.2891 L271,3561.2891 L261,3551.2891 L79,3551.2891" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,3551.2891 L261,3561.2891 L271,3561.2891 L261,3551.2891" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="3568.8574">ready = deque([T6])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="3584.168">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="3599.4785">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3614.7891">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3630.0996">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="3645.4102">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="3660.7207">]</text><g class="message" data-participant-1="T5" data-participant-2="T5"><line style="stroke:#181818;stroke-width:1;" x1="1528.0137" x2="1570.0137" y1="3710.084" y2="3710.084"/><line style="stroke:#181818;stroke-width:1;" x1="1570.0137" x2="1570.0137" y1="3710.084" y2="3723.084"/><line style="stroke:#181818;stroke-width:1;" x1="1529.0137" x2="1570.0137" y1="3723.084" y2="3723.084"/><polygon fill="#181818" points="1539.0137,3719.084,1529.0137,3723.084,1539.0137,3727.084,1535.0137,3723.084" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.5859" x="1559.979" y="3690.0313">await spawn(fake_http(2))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.5166" x="1535.0137" y="3705.3418">-&gt; cretate_task(fake_http(2)) (T7)</text></g><g class="message" data-participant-1="T5" data-participant-2="L"><polygon fill="#181818" points="85.2319,3748.3945,75.2319,3752.3945,85.2319,3756.3945,81.2319,3752.3945" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1517.0137" y1="3752.3945" y2="3752.3945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="731.6814" y="3747.6523">schedule T7.__step()</text></g><path d="M79,3765.3945 L79,3882.3945 L271,3882.3945 L271,3775.3945 L261,3765.3945 L79,3765.3945" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,3765.3945 L261,3775.3945 L271,3775.3945 L261,3765.3945" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2109" x="85" y="3782.9629">ready = deque([T6, T7])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="3798.2734">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="3813.584">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3828.8945">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="3844.2051">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="3859.5156">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="3874.8262">]</text><g class="message" data-participant-1="T5" data-participant-2="T5"><line style="stroke:#181818;stroke-width:1;" x1="1528.0137" x2="1570.0137" y1="3939.5" y2="3939.5"/><line style="stroke:#181818;stroke-width:1;" x1="1570.0137" x2="1570.0137" y1="3939.5" y2="3952.5"/><line style="stroke:#181818;stroke-width:1;" x1="1529.0137" x2="1570.0137" y1="3952.5" y2="3952.5"/><polygon fill="#181818" points="1539.0137,3948.5,1529.0137,3952.5,1539.0137,3956.5,1535.0137,3952.5" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.4482" x="1603.7842" y="3904.1367">await gather(T6, T7)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.9492" x="1546.0903" y="3919.4473">(a future aggregating results of T6, T7)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.876" x="1539.127" y="3934.7578">T5 will be wake up when this future done</text></g><g class="message" data-participant-1="T5" data-participant-2="L"><polygon fill="#181818" points="85.2319,3993.1211,75.2319,3997.1211,85.2319,4001.1211,81.2319,3997.1211" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1522.0137" y1="3997.1211" y2="3997.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7153" x="670.7651" y="3977.0684">T5.__step() end (hit await that suspends)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="742.2493" y="3992.3789">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T6"><polygon fill="#181818" points="1839.9341,4022.4316,1849.9341,4026.4316,1839.9341,4030.4316,1843.9341,4026.4316" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1845.9341" y1="4026.4316" y2="4026.4316"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="915.8882" y="4021.6895">call T6.__step()</text></g><path d="M79,4039.4316 L79,4156.4316 L271,4156.4316 L271,4049.4316 L261,4039.4316 L79,4039.4316" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,4039.4316 L261,4049.4316 L271,4049.4316 L261,4039.4316" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="4057">ready = deque([T7])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="4072.3105">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="4087.6211">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4102.9316">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4118.2422">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="4133.5527">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="4148.8633">]</text><g class="message" data-participant-1="T6" data-participant-2="T6"><line style="stroke:#181818;stroke-width:1;" x1="1861.9341" x2="1903.9341" y1="4182.916" y2="4182.916"/><line style="stroke:#181818;stroke-width:1;" x1="1903.9341" x2="1903.9341" y1="4182.916" y2="4195.916"/><line style="stroke:#181818;stroke-width:1;" x1="1862.9341" x2="1903.9341" y1="4195.916" y2="4195.916"/><polygon fill="#181818" points="1872.9341,4191.916,1862.9341,4195.916,1872.9341,4199.916,1868.9341,4195.916" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="1868.9341" y="4178.1738">await asyncio.sleep(3)</text></g><g class="message" data-participant-1="T6" data-participant-2="L"><polygon fill="#181818" points="85.2319,4236.5371,75.2319,4240.5371,85.2319,4244.5371,81.2319,4240.5371" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1850.9341" y1="4240.5371" y2="4240.5371"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.1089" x="854.5286" y="4220.4844">schedule to call a callback after 3s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="861.4888" y="4235.7949">to mark the sleep future is done</text></g><path d="M79,4253.5371 L79,4385.5371 L271,4385.5371 L271,4263.5371 L261,4253.5371 L79,4253.5371" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,4253.5371 L261,4263.5371 L271,4263.5371 L261,4253.5371" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="4271.1055">ready = deque([T7])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="4286.416">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="4301.7266">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4317.0371">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4332.3477">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4347.6582">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="4362.9688">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="4378.2793">]</text><g class="message" data-participant-1="T6" data-participant-2="L"><polygon fill="#181818" points="85.2319,4423.6426,75.2319,4427.6426,85.2319,4431.6426,81.2319,4427.6426" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1855.9341" y1="4427.6426" y2="4427.6426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="915.262" y="4407.5898">T6.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="909.2095" y="4422.9004">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T7"><polygon fill="#181818" points="2019.8096,4452.9531,2029.8096,4456.9531,2019.8096,4460.9531,2023.8096,4456.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2025.8096" y1="4456.9531" y2="4456.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="1005.8259" y="4452.2109">call T7.__step()</text></g><path d="M79,4469.9531 L79,4601.9531 L271,4601.9531 L271,4479.9531 L261,4469.9531 L79,4469.9531" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,4469.9531 L261,4479.9531 L271,4479.9531 L261,4469.9531" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="4487.5215">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="4502.832">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="4518.1426">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4533.4531">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4548.7637">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4564.0742">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="4579.3848">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="4594.6953">]</text><g class="message" data-participant-1="T7" data-participant-2="T7"><line style="stroke:#181818;stroke-width:1;" x1="2041.8096" x2="2083.8096" y1="4628.748" y2="4628.748"/><line style="stroke:#181818;stroke-width:1;" x1="2083.8096" x2="2083.8096" y1="4628.748" y2="4641.748"/><line style="stroke:#181818;stroke-width:1;" x1="2042.8096" x2="2083.8096" y1="4641.748" y2="4641.748"/><polygon fill="#181818" points="2052.8096,4637.748,2042.8096,4641.748,2052.8096,4645.748,2048.8096,4641.748" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="2048.8096" y="4624.0059">await asyncio.sleep(3)</text></g><g class="message" data-participant-1="T7" data-participant-2="L"><polygon fill="#181818" points="85.2319,4682.3691,75.2319,4686.3691,85.2319,4690.3691,81.2319,4686.3691" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2030.8096" y1="4686.3691" y2="4686.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.1089" x="944.4663" y="4666.3164">schedule to call a callback after 3s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="951.4265" y="4681.627">to mark the sleep future is done</text></g><path d="M79,4699.3691 L79,4846.3691 L271,4846.3691 L271,4709.3691 L261,4699.3691 L79,4699.3691" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,4699.3691 L261,4709.3691 L271,4709.3691 L261,4699.3691" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="4716.9375">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="4732.248">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="4747.5586">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4762.8691">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4778.1797">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4793.4902">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="4808.8008">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="4824.1113">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="4839.4219">]</text><g class="message" data-participant-1="T7" data-participant-2="L"><polygon fill="#181818" points="85.2319,4884.7852,75.2319,4888.7852,85.2319,4892.7852,81.2319,4888.7852" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2035.8096" y1="4888.7852" y2="4888.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="1005.1997" y="4868.7324">T7.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="999.1472" y="4884.043">back to event loop</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="4917.4404"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="4917.4404" y2="4917.4404"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="4920.4404" y2="4920.4404"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="508.0571" x="1210.76" y="4906.7852"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="489.7725" x="1216.76" y="4923.3535">+0.051s timer fires: Task-1 becomes READY again then schedule for rq3</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="4992.0273" y2="4992.0273"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="4992.0273" y2="5005.0273"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="5005.0273" y2="5005.0273"/><polygon fill="#181818" points="85.2319,5001.0273,75.2319,5005.0273,85.2319,5009.0273,81.2319,5005.0273" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.0693" x="81.2319" y="4956.6641">no ready callback, block until sleep_0_05_callback_T1 ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3931" x="141.6267" y="4971.9746">unless some event ready during that time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3101" x="177.6116" y="4987.2852">using selector.select(timeout)</text></g><path d="M79,5018.0273 L79,5150.0273 L360,5150.0273 L360,5028.0273 L350,5018.0273 L79,5018.0273" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M350,5018.0273 L350,5028.0273 L360,5028.0273 L350,5018.0273" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.2285" x="85" y="5035.5957">ready = deque([sleep_0_05_callback_T1])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="5050.9063">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5066.2168">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5081.5273">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5096.8379">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5112.1484">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="5127.459">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="5142.7695">]</text><path d="M79,5160.5117 L79,5292.5117 L286,5292.5117 L286,5170.5117 L276,5160.5117 L79,5160.5117" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,5160.5117 L276,5170.5117 L286,5170.5117 L276,5160.5117" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="5178.0801">ready = deque([T1_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="5193.3906">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5208.7012">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5224.0117">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5239.3223">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5254.6328">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="5269.9434">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="5285.2539">]</text><g class="message" data-participant-1="L" data-participant-2="T1"><polygon fill="#181818" points="515.835,5315.3066,525.835,5319.3066,515.835,5323.3066,519.835,5319.3066" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="521.835" y1="5319.3066" y2="5319.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="253.8386" y="5314.5645">call T1.__step()</text></g><path d="M79,5332.3066 L79,5464.3066 L248,5464.3066 L248,5342.3066 L238,5332.3066 L79,5332.3066" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M238,5332.3066 L238,5342.3066 L248,5342.3066 L238,5332.3066" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="5349.875">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="5365.1855">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5380.4961">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5395.8066">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5411.1172">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5426.4277">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="5441.7383">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="5457.0488">]</text><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="5521.7227" y2="5521.7227"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="5521.7227" y2="5534.7227"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="5534.7227" y2="5534.7227"/><polygon fill="#181818" points="548.835,5530.7227,538.835,5534.7227,548.835,5538.7227,544.835,5534.7227" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9951" x="654.7859" y="5486.3594">await</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.7446" x="590.4111" y="5501.6699">spawn(handle_request(3))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.7837" x="548.9482" y="5516.9805">-&gt; cretate_task(handle_request(3)) (T8)</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,5560.0332,75.2319,5564.0332,85.2319,5568.0332,81.2319,5564.0332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="526.835" y1="5564.0332" y2="5564.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="236.592" y="5559.291">schedule T8.__step()</text></g><path d="M79,5577.0332 L79,5709.0332 L248,5709.0332 L248,5587.0332 L238,5577.0332 L79,5577.0332" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M238,5577.0332 L238,5587.0332 L248,5587.0332 L238,5577.0332" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="5594.6016">ready = deque([T8])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="5609.9121">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5625.2227">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5640.5332">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5655.8438">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5671.1543">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="5686.4648">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="5701.7754">]</text><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="5735.8281" y2="5735.8281"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="5735.8281" y2="5748.8281"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="5748.8281" y2="5748.8281"/><polygon fill="#181818" points="548.835,5744.8281,538.835,5748.8281,548.835,5752.8281,544.835,5748.8281" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.5708" x="544.835" y="5731.0859">await asyncio.sleep(0.05)</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,5789.4492,75.2319,5793.4492,85.2319,5797.4492,81.2319,5793.4492" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="526.835" y1="5793.4492" y2="5793.4492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.6626" x="182.2021" y="5773.3965">schedule to call a callback after 0.05s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="199.4392" y="5788.707">to mark the sleep future is done</text></g><path d="M79,5806.4492 L79,5953.4492 L271,5953.4492 L271,5816.4492 L261,5806.4492 L79,5806.4492" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,5806.4492 L261,5816.4492 L271,5816.4492 L261,5806.4492" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="5824.0176">ready = deque([T8])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="5839.3281">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="5854.6387">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5869.9492">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5885.2598">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5900.5703">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="5915.8809">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="5931.1914">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="5946.502">]</text><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,5991.8652,75.2319,5995.8652,85.2319,5999.8652,81.2319,5995.8652" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="531.835" y1="5995.8652" y2="5995.8652"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7153" x="175.6758" y="5975.8125">T1.__step() end (hit await that suspends)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="247.1599" y="5991.123">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T8"><polygon fill="#181818" points="2209.2954,6021.1758,2219.2954,6025.1758,2209.2954,6029.1758,2213.2954,6025.1758" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2215.2954" y1="6025.1758" y2="6025.1758"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="1100.5688" y="6020.4336">call T8.__step()</text></g><path d="M79,6038.1758 L79,6185.1758 L271,6185.1758 L271,6048.1758 L261,6038.1758 L79,6038.1758" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,6038.1758 L261,6048.1758 L271,6048.1758 L261,6038.1758" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="6055.7441">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="6071.0547">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="6086.3652">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6101.6758">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6116.9863">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6132.2969">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6147.6074">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="6162.918">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="6178.2285">]</text><g class="message" data-participant-1="T8" data-participant-2="T8"><line style="stroke:#181818;stroke-width:1;" x1="2231.2954" x2="2273.2954" y1="6227.5918" y2="6227.5918"/><line style="stroke:#181818;stroke-width:1;" x1="2273.2954" x2="2273.2954" y1="6227.5918" y2="6240.5918"/><line style="stroke:#181818;stroke-width:1;" x1="2232.2954" x2="2273.2954" y1="6240.5918" y2="6240.5918"/><polygon fill="#181818" points="2242.2954,6236.5918,2232.2954,6240.5918,2242.2954,6244.5918,2238.2954,6240.5918" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9756" x="2263.2607" y="6207.5391">await spawn(fake_db(3))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.9063" x="2238.2954" y="6222.8496">-&gt; cretate_task(fake_db(3)) (T9)</text></g><g class="message" data-participant-1="T8" data-participant-2="L"><polygon fill="#181818" points="85.2319,6265.9023,75.2319,6269.9023,85.2319,6273.9023,81.2319,6269.9023" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2220.2954" y1="6269.9023" y2="6269.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.8828" x="1083.3223" y="6265.1602">schedule T9.__step()</text></g><path d="M79,6282.9023 L79,6429.9023 L271,6429.9023 L271,6292.9023 L261,6282.9023 L79,6282.9023" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,6282.9023 L261,6292.9023 L271,6292.9023 L261,6282.9023" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5439" x="85" y="6300.4707">ready = deque([T9])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="6315.7813">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="6331.0918">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6346.4023">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6361.7129">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6377.0234">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6392.334">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="6407.6445">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="6422.9551">]</text><g class="message" data-participant-1="T8" data-participant-2="T8"><line style="stroke:#181818;stroke-width:1;" x1="2231.2954" x2="2273.2954" y1="6472.3184" y2="6472.3184"/><line style="stroke:#181818;stroke-width:1;" x1="2273.2954" x2="2273.2954" y1="6472.3184" y2="6485.3184"/><line style="stroke:#181818;stroke-width:1;" x1="2232.2954" x2="2273.2954" y1="6485.3184" y2="6485.3184"/><polygon fill="#181818" points="2242.2954,6481.3184,2232.2954,6485.3184,2242.2954,6489.3184,2238.2954,6485.3184" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.5859" x="2267.3708" y="6452.2656">await spawn(fake_http(3))</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.7368" x="2238.2954" y="6467.5762">-&gt; cretate_task(fake_http(3)) (T10)</text></g><g class="message" data-participant-1="T8" data-participant-2="L"><polygon fill="#181818" points="85.2319,6510.6289,75.2319,6514.6289,85.2319,6518.6289,81.2319,6514.6289" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2220.2954" y1="6514.6289" y2="6514.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.103" x="1079.2122" y="6509.8867">schedule T10.__step()</text></g><path d="M79,6527.6289 L79,6674.6289 L271,6674.6289 L271,6537.6289 L261,6527.6289 L79,6527.6289" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,6527.6289 L261,6537.6289 L271,6537.6289 L261,6527.6289" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.4312" x="85" y="6545.1973">ready = deque([T9, T10])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="6560.5078">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="6575.8184">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6591.1289">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6606.4395">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6621.75">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6637.0605">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="6652.3711">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="6667.6816">]</text><g class="message" data-participant-1="T8" data-participant-2="T8"><line style="stroke:#181818;stroke-width:1;" x1="2231.2954" x2="2273.2954" y1="6732.3555" y2="6732.3555"/><line style="stroke:#181818;stroke-width:1;" x1="2273.2954" x2="2273.2954" y1="6732.3555" y2="6745.3555"/><line style="stroke:#181818;stroke-width:1;" x1="2232.2954" x2="2273.2954" y1="6745.3555" y2="6745.3555"/><polygon fill="#181818" points="2242.2954,6741.3555,2232.2954,6745.3555,2242.2954,6749.3555,2238.2954,6745.3555" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.6685" x="2302.9558" y="6696.9922">await gather(T9, T10)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.1694" x="2245.262" y="6712.3027">(a future aggregating results of T9, T10)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.876" x="2242.4087" y="6727.6133">T8 will be wake up when this future done</text></g><g class="message" data-participant-1="T8" data-participant-2="L"><polygon fill="#181818" points="85.2319,6785.9766,75.2319,6789.9766,85.2319,6793.9766,81.2319,6789.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2225.2954" y1="6789.9766" y2="6789.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.7153" x="1022.406" y="6769.9238">T8.__step() end (hit await that suspends)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="1093.8901" y="6785.2344">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T9"><polygon fill="#181818" points="2543.2158,6815.2871,2553.2158,6819.2871,2543.2158,6823.2871,2547.2158,6819.2871" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2549.2158" y1="6819.2871" y2="6819.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="1267.5291" y="6814.5449">call T9.__step()</text></g><path d="M79,6832.2871 L79,6979.2871 L271,6979.2871 L271,6842.2871 L261,6832.2871 L79,6832.2871" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,6832.2871 L261,6842.2871 L271,6842.2871 L261,6832.2871" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7642" x="85" y="6849.8555">ready = deque([T10])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="6865.166">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="6880.4766">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6895.7871">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6911.0977">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6926.4082">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="6941.7188">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="6957.0293">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="6972.3398">]</text><g class="message" data-participant-1="T9" data-participant-2="T9"><line style="stroke:#181818;stroke-width:1;" x1="2565.2158" x2="2607.2158" y1="7006.3926" y2="7006.3926"/><line style="stroke:#181818;stroke-width:1;" x1="2607.2158" x2="2607.2158" y1="7006.3926" y2="7019.3926"/><line style="stroke:#181818;stroke-width:1;" x1="2566.2158" x2="2607.2158" y1="7019.3926" y2="7019.3926"/><polygon fill="#181818" points="2576.2158,7015.3926,2566.2158,7019.3926,2576.2158,7023.3926,2572.2158,7019.3926" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="2572.2158" y="7001.6504">await asyncio.sleep(3)</text></g><g class="message" data-participant-1="T9" data-participant-2="L"><polygon fill="#181818" points="85.2319,7060.0137,75.2319,7064.0137,85.2319,7068.0137,81.2319,7064.0137" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2554.2158" y1="7064.0137" y2="7064.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.1089" x="1206.1694" y="7043.9609">schedule to call a callback after 3s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="1213.1296" y="7059.2715">to mark the sleep future is done</text></g><path d="M79,7077.0137 L79,7240.0137 L271,7240.0137 L271,7087.0137 L261,7077.0137 L79,7077.0137" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,7077.0137 L261,7087.0137 L271,7087.0137 L261,7077.0137" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.7642" x="85" y="7094.582">ready = deque([T10])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="7109.8926">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="7125.2031">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7140.5137">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7155.8242">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7171.1348">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7186.4453">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7201.7559">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="7217.0664">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="7232.377">]</text><g class="message" data-participant-1="T9" data-participant-2="L"><polygon fill="#181818" points="85.2319,7277.7402,75.2319,7281.7402,85.2319,7285.7402,81.2319,7281.7402" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2559.2158" y1="7281.7402" y2="7281.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="1266.9028" y="7261.6875">T9.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="1260.8503" y="7276.998">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T10"><polygon fill="#181818" points="2723.0913,7307.0508,2733.0913,7311.0508,2723.0913,7315.0508,2727.0913,7311.0508" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2729.0913" y1="7311.0508" y2="7311.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6099" x="1353.3567" y="7306.3086">call T10.__step()</text></g><path d="M79,7324.0508 L79,7487.0508 L271,7487.0508 L271,7334.0508 L261,7324.0508 L79,7324.0508" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,7324.0508 L261,7334.0508 L271,7334.0508 L261,7324.0508" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="7341.6191">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="7356.9297">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="7372.2402">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7387.5508">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7402.8613">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7418.1719">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7433.4824">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7448.793">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="7464.1035">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="7479.4141">]</text><g class="message" data-participant-1="T10" data-participant-2="T10"><line style="stroke:#181818;stroke-width:1;" x1="2745.0913" x2="2787.0913" y1="7513.4668" y2="7513.4668"/><line style="stroke:#181818;stroke-width:1;" x1="2787.0913" x2="2787.0913" y1="7513.4668" y2="7526.4668"/><line style="stroke:#181818;stroke-width:1;" x1="2746.0913" x2="2787.0913" y1="7526.4668" y2="7526.4668"/><polygon fill="#181818" points="2756.0913,7522.4668,2746.0913,7526.4668,2756.0913,7530.4668,2752.0913,7526.4668" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.0171" x="2752.0913" y="7508.7246">await asyncio.sleep(3)</text></g><g class="message" data-participant-1="T10" data-participant-2="L"><polygon fill="#181818" points="85.2319,7567.0879,75.2319,7571.0879,85.2319,7575.0879,81.2319,7571.0879" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2734.0913" y1="7571.0879" y2="7571.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.1089" x="1296.1072" y="7551.0352">schedule to call a callback after 3s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203.1885" x="1303.0674" y="7566.3457">to mark the sleep future is done</text></g><path d="M79,7584.0879 L79,7762.0879 L271,7762.0879 L271,7594.0879 L261,7584.0879 L79,7584.0879" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M261,7584.0879 L261,7594.0879 L271,7594.0879 L261,7584.0879" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="7601.6563">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="7616.9668">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.2383" x="101.4531" y="7632.2773">sleep_0_05_callback_T1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7647.5879">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7662.8984">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7678.209">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7693.5195">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7708.8301">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="7724.1406">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="7739.4512">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="7754.7617">]</text><g class="message" data-participant-1="T10" data-participant-2="L"><polygon fill="#181818" points="85.2319,7800.125,75.2319,7804.125,85.2319,7808.125,81.2319,7804.125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2739.0913" y1="7804.125" y2="7804.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.749" x="1352.7305" y="7784.0723">T10.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="1350.7881" y="7799.3828">back to event loop</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="7832.7803"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="7832.7803" y2="7832.7803"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="7835.7803" y2="7835.7803"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="430.438" x="1249.5696" y="7822.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="412.1533" x="1255.5696" y="7838.6934">+0.051s timers fire: Task-1 becomes READY again then done</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="7907.3672" y2="7907.3672"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="7907.3672" y2="7920.3672"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="7920.3672" y2="7920.3672"/><polygon fill="#181818" points="85.2319,7916.3672,75.2319,7920.3672,85.2319,7924.3672,81.2319,7920.3672" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.0693" x="81.2319" y="7872.0039">no ready callback, block until sleep_0_05_callback_T1 ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3931" x="141.6267" y="7887.3145">unless some event ready during that time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3101" x="177.6116" y="7902.625">using selector.select(timeout)</text></g><path d="M79,7933.3672 L79,8096.3672 L360,8096.3672 L360,7943.3672 L350,7933.3672 L79,7933.3672" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M350,7933.3672 L350,7943.3672 L360,7943.3672 L350,7933.3672" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.2285" x="85" y="7950.9355">ready = deque([sleep_0_05_callback_T1])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="7966.2461">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7981.5566">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="7996.8672">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8012.1777">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8027.4883">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8042.7988">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="8058.1094">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="8073.4199">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="8088.7305">]</text><path d="M79,8106.4727 L79,8269.4727 L286,8269.4727 L286,8116.4727 L276,8106.4727 L79,8106.4727" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,8106.4727 L276,8116.4727 L286,8116.4727 L276,8106.4727" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="8124.041">ready = deque([T1_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="8139.3516">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8154.6621">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8169.9727">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8185.2832">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8200.5938">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8215.9043">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="8231.2148">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="8246.5254">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="8261.8359">]</text><g class="message" data-participant-1="L" data-participant-2="T1"><polygon fill="#181818" points="515.835,8291.8887,525.835,8295.8887,515.835,8299.8887,519.835,8295.8887" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="521.835" y1="8295.8887" y2="8295.8887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="253.8386" y="8291.1465">call T1.__step()</text></g><path d="M79,8308.8887 L79,8471.8887 L256,8471.8887 L256,8318.8887 L246,8308.8887 L79,8308.8887" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M246,8308.8887 L246,8318.8887 L256,8318.8887 L246,8308.8887" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="8326.457">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="8341.7676">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8357.0781">sleep_3_callback_T3,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8372.3887">sleep_3_callback_T4,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8387.6992">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8403.0098">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8418.3203">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="8433.6309">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="8448.9414">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="8464.252">]</text><g class="message" data-participant-1="T1" data-participant-2="T1"><line style="stroke:#181818;stroke-width:1;" x1="537.835" x2="579.835" y1="8528.9258" y2="8528.9258"/><line style="stroke:#181818;stroke-width:1;" x1="579.835" x2="579.835" y1="8528.9258" y2="8541.9258"/><line style="stroke:#181818;stroke-width:1;" x1="538.835" x2="579.835" y1="8541.9258" y2="8541.9258"/><polygon fill="#181818" points="548.835,8537.9258,538.835,8541.9258,548.835,8545.9258,544.835,8541.9258" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="569.1465" y="8493.5625">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="556.9082" y="8508.873">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5522" x="544.835" y="8524.1836">mark this task as done</text></g><g class="message" data-participant-1="T1" data-participant-2="L"><polygon fill="#181818" points="85.2319,8582.5469,75.2319,8586.5469,85.2319,8590.5469,81.2319,8586.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="531.835" y1="8586.5469" y2="8586.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="255.269" y="8566.4941">T1.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="247.1599" y="8581.8047">back to event loop</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="8615.2021"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="8615.2021" y2="8615.2021"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="8618.2021" y2="8618.2021"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="369.6211" x="1279.978" y="8604.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="351.3364" x="1285.978" y="8621.1152">+2.848s timers fire: T3 done, T4 done, then T2 done</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="8689.7891" y2="8689.7891"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="8689.7891" y2="8702.7891"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="8702.7891" y2="8702.7891"/><polygon fill="#181818" points="85.2319,8698.7891,75.2319,8702.7891,85.2319,8706.7891,81.2319,8702.7891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356.1289" x="81.2319" y="8654.4258">no ready callback, block until sleep_3_callback_T3 ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3931" x="130.1565" y="8669.7363">unless some event ready during that time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3101" x="166.1414" y="8685.0469">using selector.select(timeout)</text></g><path d="M79,8715.7891 L79,8847.7891 L473,8847.7891 L473,8725.7891 L463,8715.7891 L79,8715.7891" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,8715.7891 L463,8725.7891 L473,8725.7891 L463,8715.7891" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373.6992" x="85" y="8733.3574">ready = deque([sleep_3_callback_T3, sleep_3_callback_T4])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="8748.668">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8763.9785">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8779.2891">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8794.5996">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="8809.9102">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="8825.2207">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="8840.5313">]</text><path d="M79,8858.2734 L79,8990.2734 L372,8990.2734 L372,8868.2734 L362,8858.2734 L79,8858.2734" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M362,8858.2734 L362,8868.2734 L372,8868.2734 L362,8858.2734" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.7842" x="85" y="8875.8418">ready = deque([T3_wake_up, T4_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="8891.1523">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8906.4629">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8921.7734">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="8937.084">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="8952.3945">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="8967.7051">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="8983.0156">]</text><g class="message" data-participant-1="L" data-participant-2="T3"><polygon fill="#181818" points="1136.6523,9013.0684,1146.6523,9017.0684,1136.6523,9021.0684,1140.6523,9017.0684" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1142.6523" y1="9017.0684" y2="9017.0684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="564.2473" y="9012.3262">call T3.__step()</text></g><path d="M79,9030.0684 L79,9162.0684 L286,9162.0684 L286,9040.0684 L276,9030.0684 L79,9030.0684" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,9030.0684 L276,9040.0684 L286,9040.0684 L276,9030.0684" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="9047.6367">ready = deque([T4_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="9062.9473">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9078.2578">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9093.5684">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9108.8789">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="9124.1895">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="9139.5">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="9154.8105">]</text><g class="message" data-participant-1="T3" data-participant-2="T3"><line style="stroke:#181818;stroke-width:1;" x1="1158.6523" x2="1200.6523" y1="9234.7949" y2="9234.7949"/><line style="stroke:#181818;stroke-width:1;" x1="1200.6523" x2="1200.6523" y1="9234.7949" y2="9247.7949"/><line style="stroke:#181818;stroke-width:1;" x1="1159.6523" x2="1200.6523" y1="9247.7949" y2="9247.7949"/><polygon fill="#181818" points="1169.6523,9243.7949,1159.6523,9247.7949,1169.6523,9251.7949,1165.6523,9247.7949" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="1191.1255" y="9184.1211">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="1178.8872" y="9199.4316">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7622" x="1169.7656" y="9214.7422">set result for it as "db"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="1191.408" y="9230.0527">mark it as done</text></g><g class="message" data-participant-1="T3" data-participant-2="L"><polygon fill="#181818" points="85.2319,9273.1055,75.2319,9277.1055,85.2319,9281.1055,81.2319,9277.1055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1147.6523" y1="9277.1055" y2="9277.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.1528" x="436.8657" y="9272.3633">Schedule a done callback that asyncio.gather() add to it</text></g><path d="M79,9290.1055 L79,9422.1055 L413,9422.1055 L413,9300.1055 L403,9290.1055 L79,9290.1055" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M403,9290.1055 L403,9300.1055 L413,9300.1055 L403,9290.1055" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313.4473" x="85" y="9307.6738">ready = deque([T4_wake_up, T3_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="9322.9844">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9338.2949">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9353.6055">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9368.916">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="9384.2266">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="9399.5371">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="9414.8477">]</text><g class="message" data-participant-1="T3" data-participant-2="L"><polygon fill="#181818" points="85.2319,9460.2109,75.2319,9464.2109,85.2319,9468.2109,81.2319,9464.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1152.6523" y1="9464.2109" y2="9464.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="565.6777" y="9444.1582">T3.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="557.5686" y="9459.4688">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T4"><polygon fill="#181818" points="1316.5278,9489.5215,1326.5278,9493.5215,1316.5278,9497.5215,1320.5278,9493.5215" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1322.5278" y1="9493.5215" y2="9493.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="654.1851" y="9488.7793">call T4.__step()</text></g><path d="M79,9506.5215 L79,9638.5215 L327,9638.5215 L327,9516.5215 L317,9506.5215 L79,9506.5215" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M317,9506.5215 L317,9516.5215 L327,9516.5215 L317,9506.5215" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.4937" x="85" y="9524.0898">ready = deque([T3_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="9539.4004">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9554.7109">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9570.0215">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9585.332">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="9600.6426">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="9615.9531">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="9631.2637">]</text><g class="message" data-participant-1="T4" data-participant-2="T4"><line style="stroke:#181818;stroke-width:1;" x1="1338.5278" x2="1380.5278" y1="9711.248" y2="9711.248"/><line style="stroke:#181818;stroke-width:1;" x1="1380.5278" x2="1380.5278" y1="9711.248" y2="9724.248"/><line style="stroke:#181818;stroke-width:1;" x1="1339.5278" x2="1380.5278" y1="9724.248" y2="9724.248"/><polygon fill="#181818" points="1349.5278,9720.248,1339.5278,9724.248,1349.5278,9728.248,1345.5278,9724.248" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="1375.8062" y="9660.5742">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="1363.5679" y="9675.8848">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3726" x="1349.6411" y="9691.1953">set result for it as "http"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="1376.0886" y="9706.5059">mark it as done</text></g><g class="message" data-participant-1="T4" data-participant-2="L"><polygon fill="#181818" points="85.2319,9749.5586,75.2319,9753.5586,85.2319,9757.5586,81.2319,9753.5586" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1327.5278" y1="9753.5586" y2="9753.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.1528" x="526.8035" y="9748.8164">Schedule a done callback that asyncio.gather() add to it</text></g><path d="M79,9766.5586 L79,9898.5586 L454,9898.5586 L454,9776.5586 L444,9766.5586 L79,9766.5586" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M444,9766.5586 L444,9776.5586 L454,9776.5586 L444,9766.5586" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354.1104" x="85" y="9784.127">ready = deque([T3_done_call_back, T4_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="9799.4375">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9814.748">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9830.0586">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="9845.3691">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="9860.6797">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="9875.9902">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="9891.3008">]</text><g class="message" data-participant-1="T4" data-participant-2="L"><polygon fill="#181818" points="85.2319,9936.6641,75.2319,9940.6641,85.2319,9944.6641,81.2319,9940.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1332.5278" y1="9940.6641" y2="9940.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="655.6155" y="9920.6113">T4.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="647.5063" y="9935.9219">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="9985.2852" y2="9985.2852"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="9985.2852" y2="9998.2852"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="9998.2852" y2="9998.2852"/><polygon fill="#181818" points="85.2319,9994.2852,75.2319,9998.2852,85.2319,10002.2852,81.2319,9998.2852" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3901" x="163.5134" y="9965.2324">T3_done_call_back</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.9531" x="85.3452" y="9980.543">notify asyncio.gather() future that T3 is done</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="10073.5273" y2="10073.5273"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="10073.5273" y2="10086.5273"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="10086.5273" y2="10086.5273"/><polygon fill="#181818" points="85.2319,10082.5273,75.2319,10086.5273,85.2319,10090.5273,81.2319,10086.5273" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3901" x="165.5701" y="10022.8535">T4_done_call_back</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.9531" x="85.3452" y="10038.1641">notify asyncio.gather() future that T4 is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.96" x="131.8418" y="10053.4746">then the gather future is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.2852" x="104.2358" y="10068.7852">as mentioned before this demonstraion</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="10131.1484" y2="10131.1484"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="10131.1484" y2="10144.1484"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="10144.1484" y2="10144.1484"/><polygon fill="#181818" points="85.2319,10140.1484,75.2319,10144.1484,85.2319,10148.1484,81.2319,10144.1484" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.5078" x="81.2319" y="10111.0957">the gather future done will schedule its done callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3589" x="176.9197" y="10126.4063">that T2.__step() add to it</text></g><path d="M79,10157.1484 L79,10289.1484 L286,10289.1484 L286,10167.1484 L276,10157.1484 L79,10157.1484" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,10157.1484 L276,10167.1484 L286,10167.1484 L276,10157.1484" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="10174.7168">ready = deque([T2_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="10190.0273">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10205.3379">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10220.6484">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10235.959">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="10251.2695">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="10266.5801">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="10281.8906">]</text><g class="message" data-participant-1="L" data-participant-2="T2"><polygon fill="#181818" points="802.7319,10311.9434,812.7319,10315.9434,802.7319,10319.9434,806.7319,10315.9434" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="808.7319" y1="10315.9434" y2="10315.9434"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="397.2871" y="10311.2012">call T2.__step()</text></g><g class="message" data-participant-1="T2" data-participant-2="T2"><line style="stroke:#181818;stroke-width:1;" x1="824.7319" x2="866.7319" y1="10360.5645" y2="10360.5645"/><line style="stroke:#181818;stroke-width:1;" x1="866.7319" x2="866.7319" y1="10360.5645" y2="10373.5645"/><line style="stroke:#181818;stroke-width:1;" x1="825.7319" x2="866.7319" y1="10373.5645" y2="10373.5645"/><polygon fill="#181818" points="835.7319,10369.5645,825.7319,10373.5645,835.7319,10377.5645,831.7319,10373.5645" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.8931" x="831.7319" y="10340.5117">the gather future return result back to a, b</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.6367" x="856.9734" y="10355.8223">as we introduced above in section 2</text></g><g class="message" data-participant-1="T2" data-participant-2="T2"><line style="stroke:#181818;stroke-width:1;" x1="824.7319" x2="866.7319" y1="10448.8066" y2="10448.8066"/><line style="stroke:#181818;stroke-width:1;" x1="866.7319" x2="866.7319" y1="10448.8066" y2="10461.8066"/><line style="stroke:#181818;stroke-width:1;" x1="825.7319" x2="866.7319" y1="10461.8066" y2="10461.8066"/><polygon fill="#181818" points="835.7319,10457.8066,825.7319,10461.8066,835.7319,10465.8066,831.7319,10461.8066" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="934.2275" y="10398.1328">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="921.9893" y="10413.4434">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.6938" x="835.8452" y="10428.7539">set result for it as {"id": 1, "a": "db", "b": "http"}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="934.51" y="10444.0645">mark it as done</text></g><g class="message" data-participant-1="T2" data-participant-2="L"><polygon fill="#181818" points="85.2319,10487.1172,75.2319,10491.1172,85.2319,10495.1172,81.2319,10491.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="813.7319" y1="10491.1172" y2="10491.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.5454" x="293.7092" y="10486.375">Schedule the on_done callback that we add to it</text></g><path d="M79,10504.1172 L79,10636.1172 L343,10636.1172 L343,10514.1172 L333,10504.1172 L79,10504.1172" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M333,10504.1172 L333,10514.1172 L343,10514.1172 L333,10504.1172" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.5469" x="85" y="10521.6855">ready = deque([T2_on_done_callback])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="10536.9961">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10552.3066">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10567.6172">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10582.9277">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="10598.2383">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="10613.5488">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="10628.8594">]</text><g class="message" data-participant-1="T2" data-participant-2="L"><polygon fill="#181818" points="85.2319,10674.2227,75.2319,10678.2227,85.2319,10682.2227,81.2319,10678.2227" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="818.7319" y1="10678.2227" y2="10678.2227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="398.7175" y="10658.1699">T2.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="390.6084" y="10673.4805">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="10738.1543" y2="10738.1543"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="10738.1543" y2="10751.1543"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="10751.1543" y2="10751.1543"/><polygon fill="#181818" points="85.2319,10747.1543,75.2319,10751.1543,85.2319,10755.1543,81.2319,10751.1543" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.125" x="211.9143" y="10702.791">T2_on_done_callback run,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.2349" x="126.916" y="10718.1016">log("SEND RESPONSE:", task.result(), prefix="[server]")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="421.3765" x="85.3452" y="10733.4121">-&gt; [server] 291564.282 SEND RESPONSE: {'id': 1, 'a': 'db', 'b': 'http'}</text></g><path d="M79,10764.1543 L79,10896.1543 L256,10896.1543 L256,10774.1543 L246,10764.1543 L79,10764.1543" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M246,10764.1543 L246,10774.1543 L256,10774.1543 L246,10764.1543" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="10781.7227">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="10797.0332">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10812.3438">sleep_3_callback_T6,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10827.6543">sleep_3_callback_T7,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="10842.9648">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="10858.2754">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="10873.5859">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="10888.8965">]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="10922.2939"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="10922.2939" y2="10922.2939"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="10925.2939" y2="10925.2939"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="369.6211" x="1279.978" y="10911.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="351.3364" x="1285.978" y="10928.207">+0.051s timers fire: T6 done, T7 done, then T5 done</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="10996.8809" y2="10996.8809"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="10996.8809" y2="11009.8809"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="11009.8809" y2="11009.8809"/><polygon fill="#181818" points="85.2319,11005.8809,75.2319,11009.8809,85.2319,11013.8809,81.2319,11009.8809" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356.1289" x="81.2319" y="10961.5176">no ready callback, block until sleep_3_callback_T6 ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3931" x="130.1565" y="10976.8281">unless some event ready during that time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3101" x="166.1414" y="10992.1387">using selector.select(timeout)</text></g><path d="M79,11022.8809 L79,11123.8809 L473,11123.8809 L473,11032.8809 L463,11022.8809 L79,11022.8809" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M463,11022.8809 L463,11032.8809 L473,11032.8809 L463,11022.8809" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="373.6992" x="85" y="11040.4492">ready = deque([sleep_3_callback_T6, sleep_3_callback_T7])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="11055.7598">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="11071.0703">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="11086.3809">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="11101.6914">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="11117.002">]</text><path d="M79,11134.7441 L79,11235.7441 L372,11235.7441 L372,11144.7441 L362,11134.7441 L79,11134.7441" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M362,11134.7441 L362,11144.7441 L372,11144.7441 L362,11134.7441" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.7842" x="85" y="11152.3125">ready = deque([T6_wake_up, T7_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="11167.623">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="11182.9336">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="11198.2441">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="11213.5547">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="11228.8652">]</text><g class="message" data-participant-1="L" data-participant-2="T6"><polygon fill="#181818" points="1839.9341,11258.918,1849.9341,11262.918,1839.9341,11266.918,1843.9341,11262.918" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1845.9341" y1="11262.918" y2="11262.918"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="915.8882" y="11258.1758">call T6.__step()</text></g><path d="M79,11275.918 L79,11376.918 L286,11376.918 L286,11285.918 L276,11275.918 L79,11275.918" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,11275.918 L276,11285.918 L286,11285.918 L276,11275.918" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="11293.4863">ready = deque([T7_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="11308.7969">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="11324.1074">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="11339.418">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="11354.7285">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="11370.0391">]</text><g class="message" data-participant-1="T6" data-participant-2="T6"><line style="stroke:#181818;stroke-width:1;" x1="1861.9341" x2="1903.9341" y1="11450.0234" y2="11450.0234"/><line style="stroke:#181818;stroke-width:1;" x1="1903.9341" x2="1903.9341" y1="11450.0234" y2="11463.0234"/><line style="stroke:#181818;stroke-width:1;" x1="1862.9341" x2="1903.9341" y1="11463.0234" y2="11463.0234"/><polygon fill="#181818" points="1872.9341,11459.0234,1862.9341,11463.0234,1872.9341,11467.0234,1868.9341,11463.0234" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="1894.4072" y="11399.3496">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="1882.1689" y="11414.6602">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7622" x="1873.0474" y="11429.9707">set result for it as "db"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="1894.6897" y="11445.2813">mark it as done</text></g><g class="message" data-participant-1="T6" data-participant-2="L"><polygon fill="#181818" points="85.2319,11488.334,75.2319,11492.334,85.2319,11496.334,81.2319,11492.334" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1850.9341" y1="11492.334" y2="11492.334"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.1528" x="788.5066" y="11487.5918">Schedule a done callback that asyncio.gather() add to it</text></g><path d="M79,11505.334 L79,11606.334 L413,11606.334 L413,11515.334 L403,11505.334 L79,11505.334" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M403,11505.334 L403,11515.334 L413,11515.334 L403,11505.334" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313.4473" x="85" y="11522.9023">ready = deque([T7_wake_up, T6_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="11538.2129">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="11553.5234">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="11568.834">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="11584.1445">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="11599.4551">]</text><g class="message" data-participant-1="T6" data-participant-2="L"><polygon fill="#181818" points="85.2319,11644.8184,75.2319,11648.8184,85.2319,11652.8184,81.2319,11648.8184" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1855.9341" y1="11648.8184" y2="11648.8184"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="917.3186" y="11628.7656">T6.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="909.2095" y="11644.0762">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T7"><polygon fill="#181818" points="2019.8096,11674.1289,2029.8096,11678.1289,2019.8096,11682.1289,2023.8096,11678.1289" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2025.8096" y1="11678.1289" y2="11678.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="1005.8259" y="11673.3867">call T7.__step()</text></g><path d="M79,11691.1289 L79,11792.1289 L327,11792.1289 L327,11701.1289 L317,11691.1289 L79,11691.1289" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M317,11691.1289 L317,11701.1289 L327,11701.1289 L317,11691.1289" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.4937" x="85" y="11708.6973">ready = deque([T6_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="11724.0078">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="11739.3184">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="11754.6289">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="11769.9395">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="11785.25">]</text><g class="message" data-participant-1="T7" data-participant-2="T7"><line style="stroke:#181818;stroke-width:1;" x1="2041.8096" x2="2083.8096" y1="11865.2344" y2="11865.2344"/><line style="stroke:#181818;stroke-width:1;" x1="2083.8096" x2="2083.8096" y1="11865.2344" y2="11878.2344"/><line style="stroke:#181818;stroke-width:1;" x1="2042.8096" x2="2083.8096" y1="11878.2344" y2="11878.2344"/><polygon fill="#181818" points="2052.8096,11874.2344,2042.8096,11878.2344,2052.8096,11882.2344,2048.8096,11878.2344" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="2079.0879" y="11814.5605">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="2066.8496" y="11829.8711">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3726" x="2052.9229" y="11845.1816">set result for it as "http"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="2079.3704" y="11860.4922">mark it as done</text></g><g class="message" data-participant-1="T7" data-participant-2="L"><polygon fill="#181818" points="85.2319,11903.5449,75.2319,11907.5449,85.2319,11911.5449,81.2319,11907.5449" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2030.8096" y1="11907.5449" y2="11907.5449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.1528" x="878.4443" y="11902.8027">Schedule a done callback that asyncio.gather() add to it</text></g><path d="M79,11920.5449 L79,12021.5449 L454,12021.5449 L454,11930.5449 L444,11920.5449 L79,11920.5449" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M444,11920.5449 L444,11930.5449 L454,11930.5449 L444,11920.5449" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354.1104" x="85" y="11938.1133">ready = deque([T6_done_call_back, T7_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="11953.4238">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="11968.7344">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="11984.0449">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="11999.3555">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="12014.666">]</text><g class="message" data-participant-1="T7" data-participant-2="L"><polygon fill="#181818" points="85.2319,12060.0293,75.2319,12064.0293,85.2319,12068.0293,81.2319,12064.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2035.8096" y1="12064.0293" y2="12064.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="1007.2563" y="12043.9766">T7.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="999.1472" y="12059.2871">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="12108.6504" y2="12108.6504"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="12108.6504" y2="12121.6504"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="12121.6504" y2="12121.6504"/><polygon fill="#181818" points="85.2319,12117.6504,75.2319,12121.6504,85.2319,12125.6504,81.2319,12121.6504" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3901" x="163.5134" y="12088.5977">T6_done_call_back</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.9531" x="85.3452" y="12103.9082">notify asyncio.gather() future that T6 is done</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="12196.8926" y2="12196.8926"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="12196.8926" y2="12209.8926"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="12209.8926" y2="12209.8926"/><polygon fill="#181818" points="85.2319,12205.8926,75.2319,12209.8926,85.2319,12213.8926,81.2319,12209.8926" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3901" x="165.5701" y="12146.2188">T7_done_call_back</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.9531" x="85.3452" y="12161.5293">notify asyncio.gather() future that T7 is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.96" x="131.8418" y="12176.8398">then the gather future is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.2852" x="104.2358" y="12192.1504">as mentioned before this demonstraion</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="12254.5137" y2="12254.5137"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="12254.5137" y2="12267.5137"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="12267.5137" y2="12267.5137"/><polygon fill="#181818" points="85.2319,12263.5137,75.2319,12267.5137,85.2319,12271.5137,81.2319,12267.5137" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.5078" x="81.2319" y="12234.4609">the gather future done will schedule its done callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3589" x="176.9197" y="12249.7715">that T5.__step() add to it</text></g><path d="M79,12280.5137 L79,12381.5137 L286,12381.5137 L286,12290.5137 L276,12280.5137 L79,12280.5137" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M276,12280.5137 L276,12290.5137 L286,12290.5137 L276,12280.5137" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="12298.082">ready = deque([T5_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="12313.3926">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="12328.7031">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="12344.0137">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="12359.3242">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="12374.6348">]</text><g class="message" data-participant-1="L" data-participant-2="T5"><polygon fill="#181818" points="1506.0137,12404.6875,1516.0137,12408.6875,1506.0137,12412.6875,1510.0137,12408.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="1512.0137" y1="12408.6875" y2="12408.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="748.928" y="12403.9453">call T5.__step()</text></g><g class="message" data-participant-1="T5" data-participant-2="T5"><line style="stroke:#181818;stroke-width:1;" x1="1528.0137" x2="1570.0137" y1="12453.3086" y2="12453.3086"/><line style="stroke:#181818;stroke-width:1;" x1="1570.0137" x2="1570.0137" y1="12453.3086" y2="12466.3086"/><line style="stroke:#181818;stroke-width:1;" x1="1529.0137" x2="1570.0137" y1="12466.3086" y2="12466.3086"/><polygon fill="#181818" points="1539.0137,12462.3086,1529.0137,12466.3086,1539.0137,12470.3086,1535.0137,12466.3086" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.8931" x="1535.0137" y="12433.2559">the gather future return result back to a, b</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.6367" x="1560.2551" y="12448.5664">as we introduced above in section 2</text></g><g class="message" data-participant-1="T5" data-participant-2="T5"><line style="stroke:#181818;stroke-width:1;" x1="1528.0137" x2="1570.0137" y1="12541.5508" y2="12541.5508"/><line style="stroke:#181818;stroke-width:1;" x1="1570.0137" x2="1570.0137" y1="12541.5508" y2="12554.5508"/><line style="stroke:#181818;stroke-width:1;" x1="1529.0137" x2="1570.0137" y1="12554.5508" y2="12554.5508"/><polygon fill="#181818" points="1539.0137,12550.5508,1529.0137,12554.5508,1539.0137,12558.5508,1535.0137,12554.5508" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="1637.5093" y="12490.877">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="1625.271" y="12506.1875">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.6938" x="1539.127" y="12521.498">set result for it as {"id": 2, "a": "db", "b": "http"}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="1637.7917" y="12536.8086">mark it as done</text></g><g class="message" data-participant-1="T5" data-participant-2="L"><polygon fill="#181818" points="85.2319,12579.8613,75.2319,12583.8613,85.2319,12587.8613,81.2319,12583.8613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="1517.0137" y1="12583.8613" y2="12583.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.5454" x="645.3501" y="12579.1191">Schedule the on_done callback that we add to it</text></g><path d="M79,12596.8613 L79,12697.8613 L343,12697.8613 L343,12606.8613 L333,12596.8613 L79,12596.8613" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M333,12596.8613 L333,12606.8613 L343,12606.8613 L333,12596.8613" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.5469" x="85" y="12614.4297">ready = deque([T5_on_done_callback])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="12629.7402">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="12645.0508">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="12660.3613">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="12675.6719">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="12690.9824">]</text><g class="message" data-participant-1="T5" data-participant-2="L"><polygon fill="#181818" points="85.2319,12736.3457,75.2319,12740.3457,85.2319,12744.3457,81.2319,12740.3457" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="1522.0137" y1="12740.3457" y2="12740.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="750.3584" y="12720.293">T5.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="742.2493" y="12735.6035">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="12800.2773" y2="12800.2773"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="12800.2773" y2="12813.2773"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="12813.2773" y2="12813.2773"/><polygon fill="#181818" points="85.2319,12809.2773,75.2319,12813.2773,85.2319,12817.2773,81.2319,12813.2773" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.125" x="213.9709" y="12764.9141">T5_on_done_callback run,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.2349" x="128.9727" y="12780.2246">log("SEND RESPONSE:", task.result(), prefix="[server]")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425.4897" x="85.3452" y="12795.5352">-&gt;  [server] 291564.333 SEND RESPONSE: {'id': 2, 'a': 'db', 'b': 'http'}</text></g><path d="M79,12826.2773 L79,12927.2773 L256,12927.2773 L256,12836.2773 L246,12826.2773 L79,12826.2773" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M246,12826.2773 L246,12836.2773 L256,12836.2773 L246,12826.2773" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="12843.8457">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.8169" x="85" y="12859.1563">scheduled = [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.2979" x="101.4531" y="12874.4668">sleep_3_callback_T9,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5181" x="101.4531" y="12889.7773">sleep_3_callback_T10,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="101.4531" y="12905.0879">loop.stop(loop)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.2275" x="85" y="12920.3984">]</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2929.5771" x="0" y="12953.7959"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="12953.7959" y2="12953.7959"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2929.5771" y1="12956.7959" y2="12956.7959"/><rect fill="#EEEEEE" height="23.3105" style="stroke:#000000;stroke-width:2;" width="378.1968" x="1275.6902" y="12943.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="359.9121" x="1281.6902" y="12959.709">+0.051s timers fire: T9 done, T10 done, then T8 done</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="13028.3828" y2="13028.3828"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="13028.3828" y2="13041.3828"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="13041.3828" y2="13041.3828"/><polygon fill="#181818" points="85.2319,13037.3828,75.2319,13041.3828,85.2319,13045.3828,81.2319,13041.3828" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356.1289" x="81.2319" y="12993.0195">no ready callback, block until sleep_3_callback_T9 ready</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.3931" x="130.1565" y="13008.3301">unless some event ready during that time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.3101" x="166.1414" y="13023.6406">using selector.select(timeout)</text></g><path d="M79,13054.3828 L79,13094.3828 L481,13094.3828 L481,13064.3828 L471,13054.3828 L79,13054.3828" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M471,13054.3828 L471,13064.3828 L481,13064.3828 L471,13054.3828" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381.9194" x="85" y="13071.9512">ready = deque([sleep_3_callback_T9, sleep_3_callback_T10])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13087.2617">scheduled = [loop.stop(loop)]</text><path d="M79,13105.0039 L79,13145.0039 L381,13145.0039 L381,13115.0039 L371,13105.0039 L79,13105.0039" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M371,13105.0039 L371,13115.0039 L381,13115.0039 L371,13105.0039" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0044" x="85" y="13122.5723">ready = deque([T9_wake_up, T10_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13137.8828">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="L" data-participant-2="T9"><polygon fill="#181818" points="2543.2158,13167.9355,2553.2158,13171.9355,2543.2158,13175.9355,2547.2158,13171.9355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2549.2158" y1="13171.9355" y2="13171.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="1267.5291" y="13167.1934">call T9.__step()</text></g><path d="M79,13184.9355 L79,13224.9355 L287,13224.9355 L287,13194.9355 L277,13184.9355 L79,13184.9355" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M277,13184.9355 L277,13194.9355 L287,13194.9355 L277,13184.9355" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="13202.5039">ready = deque([10_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13217.8145">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="T9" data-participant-2="T9"><line style="stroke:#181818;stroke-width:1;" x1="2565.2158" x2="2607.2158" y1="13297.7988" y2="13297.7988"/><line style="stroke:#181818;stroke-width:1;" x1="2607.2158" x2="2607.2158" y1="13297.7988" y2="13310.7988"/><line style="stroke:#181818;stroke-width:1;" x1="2566.2158" x2="2607.2158" y1="13310.7988" y2="13310.7988"/><polygon fill="#181818" points="2576.2158,13306.7988,2566.2158,13310.7988,2576.2158,13314.7988,2572.2158,13310.7988" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="2597.689" y="13247.125">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="2585.4507" y="13262.4355">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.7622" x="2576.3291" y="13277.7461">set result for it as "db"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="2597.9714" y="13293.0566">mark it as done</text></g><g class="message" data-participant-1="T9" data-participant-2="L"><polygon fill="#181818" points="85.2319,13336.1094,75.2319,13340.1094,85.2319,13344.1094,81.2319,13340.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2554.2158" y1="13340.1094" y2="13340.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.1528" x="1140.1475" y="13335.3672">Schedule a done callback that asyncio.gather() add to it</text></g><path d="M79,13353.1094 L79,13393.1094 L421,13393.1094 L421,13363.1094 L411,13353.1094 L79,13353.1094" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M411,13353.1094 L411,13363.1094 L421,13363.1094 L411,13353.1094" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321.6675" x="85" y="13370.6777">ready = deque([T10_wake_up, T9_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13385.9883">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="T9" data-participant-2="L"><polygon fill="#181818" points="85.2319,13431.3516,75.2319,13435.3516,85.2319,13439.3516,81.2319,13435.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2559.2158" y1="13435.3516" y2="13435.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="1268.9595" y="13415.2988">T9.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="1260.8503" y="13430.6094">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="T10"><polygon fill="#181818" points="2723.0913,13460.6621,2733.0913,13464.6621,2723.0913,13468.6621,2727.0913,13464.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2729.0913" y1="13464.6621" y2="13464.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.6099" x="1353.3567" y="13459.9199">call T10.__step()</text></g><path d="M79,13477.6621 L79,13517.6621 L327,13517.6621 L327,13487.6621 L317,13477.6621 L79,13477.6621" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M317,13477.6621 L317,13487.6621 L327,13487.6621 L317,13477.6621" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.4937" x="85" y="13495.2305">ready = deque([T9_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13510.541">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="T10" data-participant-2="T10"><line style="stroke:#181818;stroke-width:1;" x1="2745.0913" x2="2787.0913" y1="13590.5254" y2="13590.5254"/><line style="stroke:#181818;stroke-width:1;" x1="2787.0913" x2="2787.0913" y1="13590.5254" y2="13603.5254"/><line style="stroke:#181818;stroke-width:1;" x1="2746.0913" x2="2787.0913" y1="13603.5254" y2="13603.5254"/><polygon fill="#181818" points="2756.0913,13599.5254,2746.0913,13603.5254,2756.0913,13607.5254,2752.0913,13603.5254" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="2782.3696" y="13539.8516">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="2770.1313" y="13555.1621">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3726" x="2756.2046" y="13570.4727">set result for it as "http"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="2782.6521" y="13585.7832">mark it as done</text></g><g class="message" data-participant-1="T10" data-participant-2="L"><polygon fill="#181818" points="85.2319,13628.8359,75.2319,13632.8359,85.2319,13636.8359,81.2319,13632.8359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2734.0913" y1="13632.8359" y2="13632.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.1528" x="1230.0852" y="13628.0938">Schedule a done callback that asyncio.gather() add to it</text></g><path d="M79,13645.8359 L79,13685.8359 L462,13685.8359 L462,13655.8359 L452,13645.8359 L79,13645.8359" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M452,13645.8359 L452,13655.8359 L462,13655.8359 L452,13645.8359" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362.3306" x="85" y="13663.4043">ready = deque([T9_done_call_back, T10_done_call_back])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13678.7148">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="T10" data-participant-2="L"><polygon fill="#181818" points="85.2319,13724.0781,75.2319,13728.0781,85.2319,13732.0781,81.2319,13728.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2739.0913" y1="13728.0781" y2="13728.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.749" x="1354.7871" y="13708.0254">T10.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="1350.7881" y="13723.3359">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="13772.6992" y2="13772.6992"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="13772.6992" y2="13785.6992"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="13785.6992" y2="13785.6992"/><polygon fill="#181818" points="85.2319,13781.6992,75.2319,13785.6992,85.2319,13789.6992,81.2319,13785.6992" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3901" x="163.5134" y="13752.6465">T9_done_call_back</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.9531" x="85.3452" y="13767.957">notify asyncio.gather() future that T9 is done</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="13860.9414" y2="13860.9414"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="13860.9414" y2="13873.9414"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="13873.9414" y2="13873.9414"/><polygon fill="#181818" points="85.2319,13869.9414,75.2319,13873.9414,85.2319,13877.9414,81.2319,13873.9414" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6104" x="165.5701" y="13810.2676">T10_done_call_back</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.1733" x="85.3452" y="13825.5781">notify asyncio.gather() future that T10 is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.96" x="135.9519" y="13840.8887">then the gather future is done</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.2852" x="108.3459" y="13856.1992">as mentioned before this demonstraion</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="13918.5625" y2="13918.5625"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="13918.5625" y2="13931.5625"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="13931.5625" y2="13931.5625"/><polygon fill="#181818" points="85.2319,13927.5625,75.2319,13931.5625,85.2319,13935.5625,81.2319,13931.5625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.5078" x="81.2319" y="13898.5098">the gather future done will schedule its done callback</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3589" x="176.9197" y="13913.8203">that T8.__step() add to it</text></g><path d="M79,13944.5625 L79,13984.5625 L287,13984.5625 L287,13954.5625 L277,13944.5625 L79,13944.5625" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M277,13944.5625 L277,13954.5625 L287,13954.5625 L277,13944.5625" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.8306" x="85" y="13962.1309">ready = deque([T8_wake_up])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="13977.4414">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="L" data-participant-2="T8"><polygon fill="#181818" points="2209.2954,14007.4941,2219.2954,14011.4941,2209.2954,14015.4941,2213.2954,14011.4941" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="2215.2954" y1="14011.4941" y2="14011.4941"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.3896" x="1100.5688" y="14006.752">call T8.__step()</text></g><g class="message" data-participant-1="T8" data-participant-2="T8"><line style="stroke:#181818;stroke-width:1;" x1="2231.2954" x2="2273.2954" y1="14056.1152" y2="14056.1152"/><line style="stroke:#181818;stroke-width:1;" x1="2273.2954" x2="2273.2954" y1="14056.1152" y2="14069.1152"/><line style="stroke:#181818;stroke-width:1;" x1="2232.2954" x2="2273.2954" y1="14069.1152" y2="14069.1152"/><polygon fill="#181818" points="2242.2954,14065.1152,2232.2954,14069.1152,2242.2954,14073.1152,2238.2954,14069.1152" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.8931" x="2238.2954" y="14036.0625">the gather future return result back to a, b</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.6367" x="2263.5369" y="14051.373">as we introduced above in section 2</text></g><g class="message" data-participant-1="T8" data-participant-2="T8"><line style="stroke:#181818;stroke-width:1;" x1="2231.2954" x2="2273.2954" y1="14144.3574" y2="14144.3574"/><line style="stroke:#181818;stroke-width:1;" x1="2273.2954" x2="2273.2954" y1="14144.3574" y2="14157.3574"/><line style="stroke:#181818;stroke-width:1;" x1="2232.2954" x2="2273.2954" y1="14157.3574" y2="14157.3574"/><polygon fill="#181818" points="2242.2954,14153.3574,2232.2954,14157.3574,2242.2954,14161.3574,2238.2954,14157.3574" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.9292" x="2340.791" y="14093.6836">Finish running,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4058" x="2328.5527" y="14108.9941">raise StopIteration,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291.6938" x="2242.4087" y="14124.3047">set result for it as {"id": 3, "a": "db", "b": "http"}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.4775" x="2341.0735" y="14139.6152">mark it as done</text></g><g class="message" data-participant-1="T8" data-participant-2="L"><polygon fill="#181818" points="85.2319,14182.668,75.2319,14186.668,85.2319,14190.668,81.2319,14186.668" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="79.2319" x2="2220.2954" y1="14186.668" y2="14186.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.5454" x="996.991" y="14181.9258">Schedule the on_done callback that we add to it</text></g><path d="M79,14199.668 L79,14239.668 L343,14239.668 L343,14209.668 L333,14199.668 L79,14199.668" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M333,14199.668 L333,14209.668 L343,14209.668 L333,14199.668" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.5469" x="85" y="14217.2363">ready = deque([T8_on_done_callback])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="14232.5469">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="T8" data-participant-2="L"><polygon fill="#181818" points="85.2319,14277.9102,75.2319,14281.9102,85.2319,14285.9102,81.2319,14281.9102" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="79.2319" x2="2225.2954" y1="14281.9102" y2="14281.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.5288" x="1101.9993" y="14261.8574">T8.__step() end</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.8604" x="1093.8901" y="14277.168">back to event loop</text></g><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="14341.8418" y2="14341.8418"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="14341.8418" y2="14354.8418"/><line style="stroke:#181818;stroke-width:1;" x1="75.2319" x2="116.2319" y1="14354.8418" y2="14354.8418"/><polygon fill="#181818" points="85.2319,14350.8418,75.2319,14354.8418,85.2319,14358.8418,81.2319,14354.8418" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.125" x="213.9709" y="14306.4785">T8_on_done_callback run,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.2349" x="128.9727" y="14321.7891">log("SEND RESPONSE:", task.result(), prefix="[server]")</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425.4897" x="85.3452" y="14337.0996">-&gt;  [server] 291564.384 SEND RESPONSE: {'id': 3, 'a': 'db', 'b': 'http'}</text></g><path d="M79,14367.8418 L79,14407.8418 L287,14407.8418 L287,14377.8418 L277,14367.8418 L79,14367.8418" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><path d="M277,14367.8418 L277,14377.8418 L287,14377.8418 L277,14367.8418" fill="#3BC2EF" fill-opacity="0.20000" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1035" x="85" y="14385.4102">ready = deque([])</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187.0908" x="85" y="14400.7207">scheduled = [loop.stop(loop)]</text><g class="message" data-participant-1="L" data-participant-2="L"><line style="stroke:#181818;stroke-width:1;" x1="74.2319" x2="116.2319" y1="14439.7734" y2="14439.7734"/><line style="stroke:#181818;stroke-width:1;" x1="116.2319" x2="116.2319" y1="14439.7734" y2="14452.7734"/><line style="stroke:#181818;stroke-width:1;" x1="69.2319" x2="116.2319" y1="14452.7734" y2="14452.7734"/><polygon fill="#181818" points="79.2319,14448.7734,69.2319,14452.7734,79.2319,14456.7734,75.2319,14452.7734" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0464" x="81.2319" y="14435.0313">loop.stop(loop)</text></g><!--SRC=[xLpxQ-D84lvTVqNZXOlD9i7MMtCt1mkRWuFSth097CTaC6sh7OiuabUFPCAo__jLIMgfRJqYoR9Y7piCM6DrLrTzzUZwvDQ4JhXXX0PlxjBno3qDdeZZXipVCFh2o5-8zmBNTBjrt4T9MZis8olF2nVUTobuSjmjzUap2TXl4NENx5yi2EWZ-sdZFBfaoL0C4OPzeNxeB9qjTSClrBP18f6dahJDloQZcnUOHcuzRpi2fSWj-K5N5sobcyRkE5JqQdOzdmSXsuud3ovTBjasdFkeIX06uqay_tuc2910QpA24RCH-S6aYvMjA7g9M5aGkwQklM5Sx7YMYfLhzL840IlwnERs8fkfrCvKzsUkmt2RpLM5kSor2NeXCqe6e-ZCrXcLoupIgesIK_5QhMfwYL5yfbuxqoWrYiyrwenImAZ5b6ahSrOcsQmsIad5cxMgMIL6yPbMVUnDIwtYasVJChFeCdHUQCZ8hVJvCqc2ZGJBDREZ3RClIRXcRlBrZBmvR6C7n7D9i66mpFHwgaq8J9EaMtBrTmpjJsH9DnkuobJ9LxYVIH8CuGFfAtN21pVOqbTtN0XgC057BdqMmjnv21gK32BZUtcI2hq5cLnnI8TS0SdrO7NVULo7n5jX0YkBfSnMYYBz1ws3DM09-r82MmakH6WKUbTSLa12Bx4gy3nNSiA0PA8HHfHUiyG62iT5G60D-ury9ZOgF_ugwFTj8erV6NbrO8Ke0DM_0yARDq9NMAp2jHD0VVD9iFRyS0B5Y_i6X7r5uTT1w6t7U3NvHiRnUFXBoPhHhQ1X0NfUOQy5PpwuuzUrirmd4bPH6FaCFG6rSMvxBfiZ3WkwV1fF49LmJSDqL9aJE6wKy6cfKRXMyE32_MVgFubYS65SYC2YO-Tvks7FMBHjs042hFIxEazgdLk0793UGKyYy2UMD9_EfrfctFn-TXdVsuDN-hO7Psgm4Eq41upNY6wCSMnQ40LR-3v096CKm70MxoeeLf9ijfCZc8WtsMsoTPPF0S_CSMmK9XtFEJdBERaiv-GM2FMBZvofbq2H97g- -G0Q-makt8JCLYQfaDtCLXfbzhxpbS6CI_V7AlFuRJ1GBJTGxMRW9Smyhf6F52gaFqwMmc0Uynf1wEEZp-0-Tb0-2w8DL4bGE1yAOk8Aju1A1p2GQ4jUiVWczIqHWeaFKVstgwjaLI6Yk-ILc5Po8Qtyo4spIX4sEPLds5zXUmpNV8byprF4t5EotEiMbFtwAxTMaK0rhc1PiSVKKfhNQsMdMBD4mxsAVJIxYN1J4UuexoEInXAY87WeZgNtGqRXNbOpBtVAp85ipHLN9L2PArxbVVN3lDyZ7iKRQkEWG704XpOC2ZMf8pzY1oD3P-Wy0q0h1qhU9zubBzZIUuQkyTURdtx-BnH6whX9WScGndRE_qtE2mdwmVNI7f4RSqaM6m-KYTpGsLG0b4m1jICN6jK0EjHdbggU2BCZ7qjoN2vHsGSt2l2BW6tOClJyw-HYZFUyAAnlbi7r33mUejDX667V0PZDcnItSsGHXII1HRAZE9oGg4CNQk-0dvdxMcMJatRBBMAgN59DfFKNJ3oDocqfJnhUuIQxc7XdDr2GQyHZiupaayIM4vfpHDi9svJWsHotuNcq7Gga1kImZnBIbyuDYQhSXAZASRUdbHDLhLFde7q016M4yJ3QTtWdeRNkeFh7w4WiCCaQBSiQxTZDnn7WoItI02ijiwYC4SfrZ3198NsI2jbD8RrJ2kaV7JerSAIF8sivP0A9KGw9qGqIO6l6gS72MMUiN3FMcGq5CQrO9wug9DgXh5FZMQndMTmjLesJoMDT0cEuILNaGk-RN9mOLCKRUcFUWRW9KT2GT-WyaemiaemJtGywWPDRQaXW8xUqAi2Cis2lVGDOl64q3Zj4KmYPXc5dv6ntTXZRLSwDxGx9CFlr-CUHmBuZjv8s3auL-xMioq-YIXEcgSGzeLdEDCrEhOTvaWYU0pSrpswlE1wRJNBPp7BPFBVcvS0yDm5SCyEWZFugTVGtoMjhaWhPpMkhKrvRvnUTDG2c9rrg2NC2ucnQZg9mUgOLZ9SuzVonv2mxiQSPpSx7Wg1MF1lN5Mh0eJpRv0N6oWfCjwGuGq_cA5WIsCzHg69EriVzwdkYu1PlM8rP5I8jX5f3LcLblUqqRswd_pSxOYT0XMvXAY4m6JvLaPoC-VCXmBkm5s_CfeqZF7Q169qDOnoyA1KV7WJnquFt7nx4Fth- -S3WTAFZd9unz9uOv_nOecSmgfva_CDndM2DX-nSoAVB1zUdJi387KZv9nHaw2Kz5xvD2p9KuEJSDQ_4rKIq-H7Q7-LhKpNt2uyIhu2d4jEBvEoVtBNax7Zhu-lDRl2K1Kx3o3lPUgBmUe8-R5bR1ZQghrEYfsrbnR7JXXK0GZzCIMNyIq7Swf6HlHZ1lRWy9D_4TI4_ith7MpwwTq0gJYtUBAQaLZmYrG5s23GbV_jXZikSf2SG7LuqbRP5iw_JhkS1LTLfsSE25fyobOQjEc3OxkCVbybpS0cYnCDNRHk-gh1l5o10kW9hEAkt8iJPkKiyLAbaN30NfdOLfehlCeN9qp2MFcShUTi9WWLVTO800wSi68GLIpeZcprxRX1297fkhbTHLYmeVWhNvFoeVE3vKVcqDwMcxqO9xxWK4VKPVBWyqNa8KcW3KuUzCdmpsVViQ0d6quNtWbz0TLYY7uaiYZ-ejFm-SkpH9pAx92CAdxWzmkK2B-EYymSfAJl2oqLPtK4ZFNTUKdp0bew1aChBF7IYvKNEoulSjhp8OdafMenUHTzjlCVnwExcbv_9hpTtN_xzoztD9_0JKflhnANZoINP-cpbVFyy-Xem_uNvtqRfxxhytqIsPfgkNikcJ7PbaTyl7FiY3eCB2fyNzk82BXTuYM5myKV_37HWBrK-CD8vRpDsU9lM1s_JJuktwMMypMZehu5Oc2uqnqRBhQ0FJdNmWSeXTQuuFNaKXgGFs6eQGX3etNhCW_YEdbTqlMr5x-j0vKSONdLQyaZinHWmfFGYUp4-062qcOUMqJQq3B5PqBlI1xs4YnXTXHadpKMq0xc8DcGnhtajf-fjbwCmYrny7yn2Riaij06OXTQLMHoM-bgU-bhRrDV4rDUEmnCAH45Hb0gY80z858xJzbkyxPzDT_f-iu- -tpgjlj-wB4Ll7__z__EdK_zk2QtRR5fLFskMwkV0LQUbAquy7QMTjWRiVN8mm2dMErrFDJweCoz1Lji2rj_Hf0Cig3aCTAGMDpzBD82VhMAF2wxl35QiVFPZ-RJrh-LJSS-okdQOLacxMh2giJGmwPGRLlF0XjNiKFLgJj1N7JC_Ij-PY- -ZxrHQzftc07sd-MxVMPUDPfwCPjjSDCLKD8Tg7qsredrKZj4-lXVYQFj-goY2TFi_]--></g></svg>